## Last commit: 2015-05-26 14:34:49 UTC by nrshaffe
version 12.3R6.6;
groups {
    re0 {
        system {
            host-name salt-re0;
        }
    }
    re1 {
        system {
            host-name salt-re1;
        }
    }
    MSDP-SA-Limit-per-peer-group {
        protocols {
            msdp {
                group <*> {
                    peer <*> {
                        active-source-limit {
                            maximum 100000;
                            threshold 90000;
                        }
                    }
                }
            }
        }
    }
    MSDP-STRICT {
        protocols {
            msdp {
                group CONNECTOR {
                    peer <*> {
                        active-source-limit {
                            maximum 2000;
                            threshold 1800;
                        }
                    }
                }
                group ITN {
                    peer <*> {
                        active-source-limit {
                            maximum 500;
                            threshold 450;
                        }
                    }
                }
                group FEDNET {
                    peer <*> {
                        active-source-limit {
                            maximum 4000;
                            threshold 3600;
                        }
                    }
                }
                group NONITN {
                    peer <*> {
                        active-source-limit {
                            maximum 4000;
                            threshold 3600;
                        }
                    }
                }
            }
        }
    }
}
apply-groups [ re0 re1 ];
system {
    domain-name net.internet2.edu;
    backup-router 156.56.6.1;
    time-zone UTC;
    authentication-order [ radius password ];
    location country-code US;
    root-authentication {
    }
    name-server {
        134.68.1.9;
        129.79.5.100;
    }
    radius-server {
        140.182.44.69 {
            port 1812;
            timeout 5;
            source-address 64.57.28.246;
        }
        140.182.45.56 {
            port 1812;
            timeout 5;
            source-address 64.57.28.246;
        }
    }
    services {
        ssh {
            protocol-version v2;
            connection-limit 30;
            rate-limit 10;
        }
    }
    syslog {
        archive files 100;
        user * {
            any critical;
        }
        /* syslog.grnoc.iu.edu */
        host 134.68.107.9 {
            any any;
            interactive-commands info;
            facility-override local6;
        }
        host 140.182.44.73 {
            any any;
            interactive-commands info;
            facility-override local6;
        }
        file messages {
            any any;
            match "!(.*RPD_IGMP_ROUTER_VERSION_MISMATCH.*)";
            archive size 2m files 20;
        }
        file interactive-commands {
            interactive-commands any;
            archive size 2m files 20;
        }
        file updown {
            any info;
            match "SNMP_TRAP_LINK_|RPD_ISIS_ADJ";
            archive size 2m files 20;
        }
        file junk {
            any any;
            match RPD_IGMP_ROUTER_VERSION_MISMATCH;
            archive size 66k files 1;
        }
        console {
            user critical;
        }
        time-format millisecond;
        source-address 64.57.28.246;
    }
    ddos-protection {
        protocols {
            sample {
                aggregate {
                    bandwidth 6500;
                }
                host {
                    bandwidth 6500;
                }
            }
        }
    }
    ntp {
        server 129.79.5.100;
        server 134.68.1.9 prefer;
    }
}
chassis {
    redundancy {
        failover {
            on-loss-of-keepalives;
            on-disk-failure;
        }
        keepalive-time 5;
    }
    routing-engine {
        on-disk-failure disk-failure-action reboot;
    }
    aggregated-devices {
        ethernet {
            device-count 5;
        }
    }
    fpc 7 {
        pic 3 {
            tunnel-services {
                bandwidth 10g;
            }
        }
    }
    network-services ip;
}
interfaces {
    xe-0/0/0 {
        description "BACKBONE: LOSA-SALT 10GE of LAG ae2 | I2-LOSA-SALT-10GE-05563";
        gigether-options {
            802.3ad ae2;
        }
    }
    xe-0/0/1 {
        description "BACKBONE: SALT-SEAT 10GE of LAG ae1 | I2-SALT-SEAT-10GE-05565";
        gigether-options {
            802.3ad ae1;
        }
    }
    xe-0/0/2 {
        description "BACKBONE: KANS-SALT 10GE of LAG ae0 | I2-KANS-SALT-10GE-05566";
        gigether-options {
            802.3ad ae0;
        }
    }
    xe-0/0/3 {
        description "Available - SFP+-10G-LR | [NO-MONITOR]";
    }
    xe-0/1/0 {
        description lan.salt.net.internet2.edu:B3;
        vlan-tagging;
        mtu 9180;
        encapsulation flexible-ethernet-services;
        unit 11 {
            description "[RE]SALT Observatory vlan";
            vlan-id 11;
            family inet {
                mtu 9000;
                filter {
                    output obs-out;
                }
                address 64.57.17.193/28;
            }
            family inet6 {
                mtu 9000;
                filter {
                    output obs-out6;
                }
                address 2001:468:7:11::1/64;
                address 2001:468:7:11::17:193/64;
            }
        }
        unit 20 {
            description "[RE]SALT VINI Mgmt";
            vlan-id 20;
            family inet {
                mtu 9000;
                address 64.57.18.233/29;
            }
        }
        unit 21 {
            description "[RE]SALT VINI Data";
            vlan-id 21;
            family inet {
                mtu 9000;
                address 64.57.18.97/28;
            }
        }
        unit 30 {
            description "[RE]SALT SPP Port 8";
            vlan-id 30;
            family inet {
                mtu 9000;
                address 64.57.23.209/30 {
                    arp 64.57.23.210 mac 00:00:5e:02:aa:08;
                }
            }
        }
        unit 31 {
            description "[RE]SALT SPP Port 9";
            vlan-id 31;
            family inet {
                mtu 9000;
                address 64.57.23.213/30 {
                    arp 64.57.23.214 mac 00:00:5e:02:aa:09;
                }
            }
        }
        unit 32 {
            description "[RE]SALT SPP Port 10";
            vlan-id 32;
            family inet {
                mtu 9000;
                address 64.57.23.217/30 {
                    arp 64.57.23.218 mac 00:00:5e:02:aa:0a;
                }
            }
        }
        unit 33 {
            description "[RE]SALT GENI Mgmt network";
            vlan-id 33;
            family inet {
                mtu 9000;
                address 64.57.23.145/28;
            }
        }
        unit 60 {
            description "[RE][CPS] Connection to nms-rpsv [NO-MONITOR]";
            vlan-id 60;
            family inet {
                mtu 9000;
                filter {
                    output obs-out;
                }
                address 64.57.29.53/30;
            }
            family inet6 {
                mtu 9000;
                filter {
                    output obs-out6;
                }
                address 2001:468:07:60::29:53/64;
                address 2001:468:07:60::1/64;
            }
        }
        unit 70 {
            description "[RE]shadowbox mgmt vlan";
            vlan-id 70;
            family inet {
                mtu 9000;
                address 64.57.19.137/30;
            }
        }
        unit 80 {
            description "[RE]ipv6 packet mirror";
            vlan-id 80;
            family inet6 {
                mtu 9000;
                address 2001:468:ff:909::1/64 {
                    ndp 2001:468:ff:909::2 mac 00:de:ad:be:ef:00;
                }
            }
        }
        unit 90 {
            description "[RE]nms-rpsv.salt";
            vlan-id 90;
            family inet {
                mtu 9000;
                address 10.10.10.186/32;
            }
        }
        unit 95 {
            description "[RE]nms-rspv.salt (transit vrf) [PENDING]";
            vlan-id 95;
            family inet {
                mtu 9000;
                address 10.10.10.238/31;
            }
            family inet6 {
                mtu 9000;
                address 2001:468:ef01:200::10/127;
            }
        }
    }
    xe-0/1/1 {
        apply-groups INTERFACE-CONNECTOR;
        description "sdn-sw.salt, Eth 15/1 | I2-SALT-SALT-10GE-07775";
        flexible-vlan-tagging;
        encapsulation flexible-ethernet-services;
    }
    xe-0/1/2 {
        apply-groups INTERFACE-CONNECTOR;
        description "10G to SUNN switch | I2-SALT-SUNN-10GE-06184";
        vlan-tagging;
        mtu 9180;
        encapsulation flexible-ethernet-services;
        gigether-options {
            ethernet-switch-profile {
            }
        }
        unit 81 {
            description "[RE]NGIX IPv6 R&E 9KB [I2-SALT-SUNN-VLAN-04535]";
            vlan-id 81;
            family inet6 {
                mtu 9000;
                address 2001:478:6663:100::205/64;
            }
        }
        unit 82 {
            description "[RE]NGIX IPv6 R&E 1500B [I2-SALT-SUNN-VLAN-04536]";
            vlan-id 82;
            family inet6 {
                mtu 1500;
                /* temp addr from i2 space before ngix had numbers */
                address 2001:468:ff:17c4::1/64;
                /* from ngix address space--this is the addr that should be used here */
                address 2001:478:6663:200::205/64;
            }
        }
        unit 101 {
            description "access to HP switch";
            vlan-id 101;
            family inet {
                mtu 9000;
                filter {
                    output racklan-access;
                }
                address 64.57.28.228/28;
            }
        }
        unit 110 {
            vlan-id 110;
            family inet {
                address 192.168.110.1/24;
            }
        }
        unit 153 {
            description "[RE]NGIX IPv4 R&E 1500B [I2-SALT-SUNN-VLAN-04540]";
            vlan-id 153;
            family inet {
                mtu 9000;
                filter {
                    output interface-out;
                }
                address 198.32.153.205/24;
            }
            family inet6 {
                address 2001:468:7:200::1/127;
            }
        }
        unit 166 {
            description "[RE]NREN R&E [I2-SALT-SUNN-VLAN-04537]";
            vlan-id 166;
            family inet {
                mtu 9000;
                address 198.71.45.238/31;
            }
            family inet6 {
                mtu 9000;
                address 2001:468:ff:17c6::1/64;
            }
        }
        unit 201 {
            disable;
            description "[RE]MIX Multicast Exchange IPv4 R&E 1500B [I2-SALT-SUNN-VLAN-04538]";
            vlan-id 201;
            family inet {
                mtu 1500;
                address 198.9.201.205/24;
            }
        }
        unit 202 {
            disable;
            description "[RE]MIX Multicast Exchange IPv4 R&E 9KB [I2-SALT-SUNN-VLAN-04539]";
            vlan-id 202;
            family inet {
                mtu 9162;
                address 198.9.202.205/24;
            }
        }
        unit 551 {
            apply-groups-except [ INTERFACE-CONNECTOR INTERFACE-BACKBONE ];
            encapsulation vlan-ccc;
            vlan-id 551;
            family ccc;
        }
        unit 552 {
            apply-groups-except [ INTERFACE-CONNECTOR INTERFACE-BACKBONE ];
            description "[RE]I2-S06738 DCN PW-CHIC-SUNN | I2-CHIC-SUNN-LSP-06756";
            encapsulation vlan-ccc;
            vlan-id 552;
            family ccc;
        }
    }
    xe-0/1/3 {
        description "[RE]Protogeni 5400 10G Xconnect";
        vlan-tagging;
        mtu 9192;
        encapsulation flexible-ethernet-services;
    }
    xe-0/2/0 {
        description "AVAILABLE SFP+-10G-LR (Was FRGP) | [NO-MONITOR]";
    }
    xe-0/2/1 {
        description "AVAILABLE 10GE, NO OPTIC | [NO-MONITOR]";
        disable;
    }
    xe-0/2/2 {
        description "AVAILABLE 10GE, NO OPTIC | [NO-MONITOR]";
        disable;
    }
    xe-0/2/3 {
        description "AVAILABLE 10GE, NO OPTIC | [NO-MONITOR]";
    }
    xe-0/3/0 {
        description "rtr.denv MX104 for Global Summit and I2 DENV office via Optical | I2-DENV-SALT-10GE-11701";
        flexible-vlan-tagging;
        mtu 9192;
        encapsulation flexible-ethernet-services;
        unit 1085 {
            description "[RE] GlobalSummit-R&E via Optical | I2-DENV-SALT-VLAN-11762 | I2-S12086";
            vlan-id 1085;
            family inet {
                mtu 9000;
                address 198.71.46.85/31;
            }
            family inet6 {
                address 2001:468:b:2::3/127;
            }
        }
        unit 1086 {
            apply-groups-except [ INTERFACE-CONNECTOR INTERFACE-BACKBONE ];
            description "[TR-CPS] GlobalSummit TR-CPS to lsan0 via PW | I2-DENV-SALT-VLAN-11763";
            encapsulation vlan-ccc;
            vlan-id 1086;
        }
        unit 1087 {
            description "GlobalSummit Transit vrf peering via Optical | I2-DENV-SALT-VLAN-11764";
            vlan-id 1087;
            family inet {
                address 64.57.22.235/31;
            }
            family inet6 {
                address 2001:468:ef01:1::3/127;
            }
        }
    }
    et-4/0/0 {
        description "sdn-sw.salt, Eth 5/1 | I2-SALT-SALT-100GE-09169";
        flexible-vlan-tagging;
        mtu 9192;
        encapsulation flexible-ethernet-services;
        gigether-options {
            ignore-l3-incompletes;
        }
        unit 110 {
            apply-groups INTERFACE-BACKBONE;
            description "BACKBONE: KANS-SALT R&E VLAN via AL2S | I2-KANS-SALT-VLAN-09185";
            vlan-id 110;
            family inet {
                address 198.71.45.19/31;
            }
            family inet6 {
                address 2001:468:ff:701::2/64;
            }
        }
        unit 113 {
            apply-groups INTERFACE-BACKBONE;
            description "BACKBONE: SALT-SEAT R&E VLAN via AL2S | I2-SALT-SEAT-VLAN-09186";
            vlan-id 113;
            family inet {
                address 198.71.45.24/31;
            }
            family inet6 {
                address 2001:468:ff:703::1/64;
            }
        }
        unit 310 {
            apply-groups INTERFACE-BACKBONE;
            description "BACKBONE: KANS-SALT Commodity VLAN via AL2S | I2-KANS-SALT-VLAN-09324";
            vlan-id 310;
            family inet {
                address 198.71.45.47/31;
            }
            family inet6 {
                address 2001:468:4:201::2/64;
            }
        }
        unit 313 {
            apply-groups INTERFACE-BACKBONE;
            description "BACKBONE: SALT-SEAT Commodity VLAN via AL2S | I2-SALT-SEAT-VLAN-09327";
            vlan-id 313;
            family inet {
                address 198.71.45.52/31;
            }
            family inet6 {
                address 2001:468:8:200::1/64;
            }
        }
        unit 400 {
            description "SALT Performance Assurance Host";
            vlan-id 400;
            family inet {
                address 198.71.46.49/31;
            }
        }
        unit 1011 {
            apply-groups INTERFACE-CONNECTOR;
            description "[CPS] UEN via AL2S/SALT";
            vlan-id 1011;
            family inet6 {
                mtu 9000;
                address 2001:1948:0:1203::1/64;
            }
        }
        unit 1012 {
            apply-groups INTERFACE-CONNECTOR;
            description "[RE] UEN/IRON via AL2S/SALT | I2-S09272";
            vlan-id 1012;
            family inet {
                mtu 9000;
                address 64.57.28.206/31;
            }
        }
    }
    et-10/0/0 {
        description "sdn-sw.salt, Eth 5/2 | I2-SALT-SALT-100GE-09170";
        flexible-vlan-tagging;
        mtu 9192;
        encapsulation flexible-ethernet-services;
        gigether-options {
            ignore-l3-incompletes;
        }
        unit 112 {
            apply-groups INTERFACE-BACKBONE;
            description "BACKBONE: LOSA-SALT R&E VLAN via AL2S | I2-LOSA-SALT-VLAN-09188";
            vlan-id 112;
            family inet {
                address 198.71.45.23/31;
            }
            family inet6 {
                address 2001:468:ff:702::2/64;
            }
        }
        unit 312 {
            apply-groups INTERFACE-BACKBONE;
            description "BACKBONE: LOSA-SALT Commodity VLAN via AL2S | I2-LOSA-SALT-VLAN-09326";
            vlan-id 312;
            family inet {
                address 198.71.45.51/31;
            }
            family inet6 {
                address 2001:468:5:201::2/64;
            }
        }
        unit 1011 {
            apply-groups INTERFACE-BACKBONE;
            description "[RE] UEN via AL2S/SALT | I2-S12089";
            vlan-id 1011;
            family inet {
                address 198.71.45.230/31;
            }
            family inet6 {
                address 2001:468:7::1/127;
            }
        }
        unit 1012 {
            description "Reserved for UEN/IRON";
            vlan-id 1012;
        }
        unit 1086 {
            apply-groups-except [ INTERFACE-CONNECTOR INTERFACE-BACKBONE ];
            description "[TR-CPS] GlobalSummit TR-CPS to lsan0 via PW | I2-DENV-SALT-VLAN-11763";
            encapsulation vlan-ccc;
            vlan-id 1086;
        }
    }
    ge-10/2/0 {
        description lan.salt.net.internet2.edu:A23;
        vlan-tagging;
        mtu 9180;
        encapsulation flexible-ethernet-services;
        unit 10 {
            description "Racklan #4 Default Gateway";
            vlan-id 10;
            family inet {
                filter {
                    output racklan-access;
                }
                address 64.57.24.161/27;
            }
        }
        unit 12 {
            description "[RE]SALT Obs 1Gig";
            vlan-id 12;
            family inet {
                mtu 9000;
                filter {
                    output obs-out;
                }
                address 64.57.17.225/28;
            }
            family inet6 {
                mtu 9000;
                filter {
                    output obs-out6;
                }
                address 2001:468:7:12::1/64;
                address 2001:468:7:12::17:225/64;
            }
        }
        unit 549 {
            description "[RE]I2-S06738 DCN KANS-SALT | I2-KANS-SALT-LSP-06759";
            encapsulation vlan-ccc;
            vlan-id 549;
            family ccc;
        }
        unit 550 {
            description "[RE]I2-S06738 DCN SALT-SEAT | I2-SALT-SEAT-LSP-06754";
            encapsulation vlan-ccc;
            vlan-id 550;
            family ccc;
        }
        unit 551 {
            encapsulation vlan-ccc;
            vlan-id 551;
            family ccc;
        }
        unit 2703 {
            description "[RE]AL2S KANS-SALT OOB";
            vlan-id 2703;
            family inet {
                mtu 9000;
                filter {
                    output al2s-oob-out;
                }
                address 64.57.25.170/29 {
                    vrrp-group 10 {
                        virtual-address 64.57.25.171;
                        priority 10;
                        advertise-interval 3;
                        accept-data;
                    }
                }
            }
        }
    }
    ge-10/2/1 {
        mtu 9180;
        unit 0 {
            description "[RE]nms-rthr1.salt p2p connection";
            family inet {
                mtu 9000;
                filter {
                    output obs-out;
                }
                address 64.57.17.209/30;
            }
            family inet6 {
                mtu 9000;
                filter {
                    output obs-out6;
                }
                address 2001:468:7:101::1/64;
                address 2001:468:7:101::17:209/64;
            }
        }
    }
    ge-10/2/2 {
        mtu 9180;
        unit 0 {
            description "[RE]nms-rthr2.salt p2p connection";
            family inet {
                mtu 9000;
                filter {
                    output obs-out;
                }
                address 64.57.17.213/30;
            }
            family inet6 {
                mtu 9000;
                filter {
                    output obs-out6;
                }
                address 2001:468:7:100::1/64;
                address 2001:468:7:100::17:213/64;
            }
        }
    }
    ge-10/2/3 {
        description "[RE]Pheobus SX";
        vlan-tagging;
        mtu 9192;
        encapsulation flexible-ethernet-services;
        unit 1200 {
            description "[RE]Pheobus port 1";
            vlan-id 1200;
            family inet {
                mtu 9000;
                filter {
                    output obs-out;
                }
                address 64.57.19.85/30;
            }
        }
    }
    ge-10/2/4 {
        description "[RE]Pheobus Copper";
        vlan-tagging;
        mtu 9192;
        encapsulation flexible-ethernet-services;
        unit 1201 {
            description "[RE]Pheobus port 2";
            vlan-id 1201;
            family inet {
                mtu 9000;
                filter {
                    output obs-out;
                }
                address 64.57.19.121/30;
            }
        }
    }
    ge-10/2/5 {
        description "[RE]Protogeni LOSA-SALT | I2-LOSA-SALT-LSP-05980";
        mtu 9192;
        encapsulation ethernet-ccc;
        unit 0 {
            family ccc;
        }
    }
    ge-10/2/6 {
        description "[RE]ProtoGeni KANS-SALT | I2-KANS-SALT-LSP-05849 [PENDING]";
        mtu 9170;
        encapsulation ethernet-ccc;
        unit 0 {
            family ccc;
        }
    }
    ge-10/2/7 {
        description "[RE]ProtoGeni ION";
        vlan-tagging;
        mtu 9192;
        encapsulation flexible-ethernet-services;
    }
    ae0 {
        apply-groups INTERFACE-BACKBONE;
        description "BACKBONE: KANS-SALT LAG | I2-KANS-SALT-LAG-08935";
        vlan-tagging;
        aggregated-ether-options {
            no-link-protection;
            minimum-links 1;
            link-speed 10g;
        }
        unit 10 {
            description "BACKBONE: KANS-SALT R&E VLAN via LAG | I2-KANS-SALT-VLAN-09234";
            vlan-id 10;
            family inet {
                address 64.57.28.9/31;
            }
            family inet6 {
                address 2001:468:ff:0704::2/64;
            }
        }
        unit 20 {
            description "BACKBONE: KANS-SALT COMMODITY VLAN via LAG | I2-KANS-SALT-VLAN-09073";
            vlan-id 20;
            family inet {
                address 64.57.28.175/31;
            }
        }
    }
    ae1 {
        apply-groups INTERFACE-BACKBONE;
        description "BACKBONE: SALT-SEAT LAG | I2-SALT-SEAT-LAG-08942";
        vlan-tagging;
        encapsulation flexible-ethernet-services;
        aggregated-ether-options {
            no-link-protection;
            minimum-links 1;
            link-speed 10g;
        }
        unit 10 {
            description "BACKBONE: SALT-SEAT R&E VLAN via LAG | I2-SALT-SEAT-VLAN-09242";
            vlan-id 10;
            family inet {
                address 64.57.28.27/31;
            }
            family inet6 {
                address 2001:468:ff:716::2/64;
            }
        }
        unit 20 {
            description "BACKBONE: SALT-SEAT COMMODITY VLAN via LAG | I2-SALT-SEAT-VLAN-09072";
            vlan-id 20;
            family inet {
                address 64.57.28.180/31;
            }
        }
    }
    ae2 {
        apply-groups INTERFACE-BACKBONE;
        description "BACKBONE: LOSA-SALT LAG | I2-LOSA-SALT-LAG-08943";
        vlan-tagging;
        aggregated-ether-options {
            no-link-protection;
            minimum-links 1;
            link-speed 10g;
        }
        unit 10 {
            description "BACKBONE: LOSA-SALT R&E VLAN via LAG | I2-LOSA-SALT-VLAN-09236";
            vlan-id 10;
            family inet {
                address 64.57.28.47/31;
            }
            family inet6 {
                address 2001:468:ff:0507::2/64;
            }
        }
        unit 20 {
            description "BACKBONE: LOSA-SALT COMMODITY VLAN via LAG | I2-LOSA-SALT-VLAN-09097";
            vlan-id 20;
            family inet {
                address 64.57.28.182/31;
            }
        }
    }
    dsc {
        unit 0 {
            description "Discard Interface";
            family inet {
                address 198.32.11.6/32 {
                }
            }
        }
    }
    fxp0 {
        description "Management Ethernet - Unused";
        inactive: unit 0 {
            family inet {
                address 156.56.6.223/24;
            }
        }
    }
    lo0 {
        unit 0 {
            description "Internal Peering Point";
            family inet {
                filter {
                    input loopback-strict-in;
                }
                address 198.32.8.238/32;
                address 64.57.28.246/32 {
                    preferred;
                }
            }
            family iso {
                address 49.0000.0000.0000.0014.00;
            }
            family inet6 {
                filter {
                    input loopback-strict-in6;
                }
                address 2001:468:7::1/128;
            }
        }
        unit 1 {
            description "Loopback for CPS VRF";
            family inet {
                filter {
                    input loopback-strict-in;
                }
            }
            family inet6 {
                filter {
                    input loopback-strict-in6;
                }
                address 2001:468:ff07::1/128;
            }
        }
    }
}
forwarding-options {
    sampling {
        input {
            rate 1000;
            run-length 2;
            max-packets-per-second 7000;
        }
        family inet {
            output {
                flow-server 64.57.17.194 {
                    port 4203;
                    autonomous-system-type origin;
                    source-address 64.57.28.246;
                    version 5;
                }
            }
        }
    }
    load-balance {
        indexed-load-balance;
    }
}
routing-options {
    interface-routes {
        rib-group {
            inet if-rg;
            inet6 if6-rg;
        }
    }
    rib inet6.0 {
        static {
            rib-group static6-rg;
            route 2001:468::/32 {
                reject;
                install;
                readvertise;
                community 11537:950;
            }
        }
        aggregate {
            route 2001:468:ff:e00::/56;
            route 2001:468:000e::/48;
        }
    }
    rib inet.2 {
        martians {
        }
    }
    static {
        rib-group static-rg;
        defaults {
        }
        route 198.32.8.0/22 {
            discard;
            community 11537:950;
        }
        route 198.32.154.0/24 {
            discard;
            community 11537:950;
        }
        /* Abilene Observatory */
        route 198.32.12.0/22 {
            discard;
            community 11537:950;
        }
        route 64.57.16.0/20 {
            discard;
            community 11537:950;
        }
        route 4.68.0.251/32 next-hop 198.9.201.24;
        route 129.250.0.242/32 next-hop 198.9.201.89;
        route 64.57.22.0/24 {
            next-table transit.inet.0;
            install;
            readvertise;
            community 11537:950;
        }
        inactive: route 64.57.31.48/28 {
            next-hop 64.57.25.172;
            install;
            readvertise;
            community 11537:888;
        }
        route 198.71.45.0/24 {
            discard;
            community 11537:950;
        }
        route 198.71.46.0/24 {
            discard;
            community 11537:950;
        }
    }
    martians {
        0.0.0.0/8 orlonger;
        10.0.0.0/8 orlonger;
        127.0.0.0/8 orlonger;
        169.254.0.0/16 orlonger;
        172.16.0.0/12 orlonger;
        192.0.2.0/24 orlonger;
        192.168.0.0/16 orlonger;
        198.18.0.0/15 orlonger;
        192.0.0.0/24 orlonger;
        128.0.0.0/16 orlonger allow;
        191.255.0.0/16 orlonger allow;
        223.255.255.0/24 orlonger allow;
    }
    aggregate {
        defaults {
            community 11537:950;
        }
        route 64.57.16.0/21;
        route 64.57.24.0/22;
        route 64.57.28.0/22;
        route 198.71.44.0/22;
        route 198.71.45.0/24;
        route 198.71.46.0/24;
    }
    rib-groups {
        if-rg {
            import-rib [ inet.0 inet.2 transit.inet.0 ];
        }
        if6-rg {
            import-rib [ inet6.0 inet6.2 transit.inet6.0 ];
        }
        mcast-rpf-rg {
            import-rib inet.2;
        }
        mcast-rpf6-rg {
            import-rib inet6.2;
        }
        isis-rg {
            import-rib [ inet.0 inet.2 ];
        }
        isis6-rg {
            import-rib [ inet6.0 inet6.2 ];
        }
        static-rg {
            import-rib [ inet.0 inet.2 ];
        }
        static6-rg {
            import-rib [ inet6.0 inet6.2 ];
        }
        bgp-rg {
            import-rib inet.0;
        }
        bgp6-rg {
            import-rib inet6.0;
        }
        transit-rg {
            import-rib [ transit.inet.0 inet.0 cps.inet.0 ];
        }
        transit6-rg {
            import-rib [ transit.inet6.0 inet6.0 cps.inet6.0 ];
        }
        transit-static-rg {
            import-rib [ transit.inet.0 inet.0 cps.inet.0 ];
        }
        transit-static6-rg {
            import-rib [ transit.inet6.0 inet6.0 cps.inet6.0 ];
        }
    }
    router-id 64.57.28.246;
    autonomous-system 11537;
    forwarding-table {
        export load-balancing-policy;
    }
    multicast {
        scope SGI-Dogfight {
            prefix 224.0.1.2/32;
            interface all;
        }
        scope 224.0.1.3/32 {
            prefix 224.0.1.3/32;
            interface all;
        }
        scope SUN-NIS {
            prefix 224.0.1.8/32;
            interface all;
        }
        scope SVRLOC {
            prefix 224.0.1.22/32;
            interface all;
        }
        scope MS-DS {
            prefix 224.0.1.24/32;
            interface all;
        }
        scope NBC-PRO {
            prefix 224.0.1.25/32;
            interface all;
        }
        scope SVRLOC-DA {
            prefix 224.0.1.35/32;
            interface all;
        }
        scope AutoRP-Announce {
            prefix 224.0.1.39/32;
            interface all;
        }
        scope AutoRP-Discovery {
            prefix 224.0.1.40/32;
            interface all;
        }
        scope HP-DEVICE-DISC {
            prefix 224.0.2.1/32;
            interface all;
        }
        scope SUN-RPC {
            prefix 224.0.2.2/32;
            interface all;
        }
        scope Norton-Ghost-1 {
            prefix 224.77.0.0/16;
            interface all;
        }
        scope Altiris {
            prefix 225.1.2.3/32;
            interface all;
        }
        scope Norton-Ghost-2 {
            prefix 226.77.0.0/16;
            interface all;
        }
        scope Norton-Ghost-3 {
            prefix 229.55.150.208/32;
            interface all;
        }
        scope ImageCast-1 {
            prefix 234.42.42.40/30;
            interface all;
        }
        scope ImageCast-2 {
            prefix 234.142.142.42/31;
            interface all;
        }
        scope ImageCast-3 {
            prefix 234.142.142.44/30;
            interface all;
        }
        scope ImageCast-4 {
            prefix 234.142.142.48/28;
            interface all;
        }
        scope ImageCast-5 {
            prefix 234.142.142.64/26;
            interface all;
        }
        scope ImageCast-6 {
            prefix 234.142.142.128/29;
            interface all;
        }
        scope ImageCast-7 {
            prefix 234.142.142.136/30;
            interface all;
        }
        scope ImageCast-8 {
            prefix 234.142.142.140/31;
            interface all;
        }
        scope ImageCast-9 {
            prefix 234.142.142.142/32;
            interface all;
        }
        ssm-groups 232.0.0.0/8;
        forwarding-cache {
            threshold {
                suppress 50000;
                reuse 25000;
            }
        }
    }
}
protocols {
    igmp {
        inactive: traceoptions {
            file jd-igmp-packet;
            flag packets;
        }
        interface all {
            version 2;
        }
        interface ge-10/2/2.12 {
            version 2;
            static {
                group 233.4.200.18;
            }
        }
        interface ge-10/2/0.2703 {
            disable;
        }
        interface xe-0/1/0.11 {
            version 3;
        }
    }
    mld {
        interface all;
    }
    router-advertisement {
        interface ge-10/2/0.11 {
            no-other-stateful-configuration;
            prefix 2001:468:e:1::1/64;
        }
        interface ge-10/2/0.12 {
            no-other-stateful-configuration;
            prefix 2001:468:e:2::1/64;
        }
        interface ge-10/2/0.13 {
            no-other-stateful-configuration;
            prefix 2001:468:e:3::1/64;
        }
        interface ge-10/2/1.0 {
            no-other-stateful-configuration;
            prefix 2001:468:e:4::1/64;
        }
        interface ge-10/2/0.15 {
            no-other-stateful-configuration;
            prefix 2001:468:e:5::1/64;
        }
        interface ge-10/2/2.0 {
            no-other-stateful-configuration;
            prefix 2001:468:e:7::1/64;
        }
        interface ge-10/2/0.16 {
            no-other-stateful-configuration;
            prefix 2001:468:e:8::1/64;
        }
    }
    rsvp {
        interface ae0.10;
        interface ae0.20;
        interface ae1.10;
        interface ae1.20;
        interface ae2.10;
        interface ae2.20;
        interface et-4/0/0.313;
        interface et-10/0/0.312;
        interface et-10/0/0.112;
        interface et-4/0/0.310;
        interface et-4/0/0.110;
    }
    mpls {
        statistics {
            file mpls-stat;
            interval 60;
        }
        admin-groups {
            r_and_e 0;
            ion 1;
        }
        ipv6-tunneling;
        optimize-timer 360;
        preference 200;
        label-switched-path SALT->CHIC {
            to 64.57.28.241;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->NEWY {
            to 64.57.28.242;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->WASH {
            to 64.57.28.249;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->ATLA {
            to 64.57.28.243;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->KANS {
            to 64.57.28.245;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->LOSA {
            to 64.57.28.248;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->HOUS {
            to 64.57.28.244;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->SEAT {
            to 64.57.28.247;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT->CLEV {
            to 64.57.28.250;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT-PAIX {
            to 64.57.28.251;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        label-switched-path SALT-WILC {
            to 64.57.28.252;
            admin-group exclude [ ion r_and_e ];
            fast-reroute;
        }
        interface ae2.10 {
            admin-group r_and_e;
        }
        /* R&E Backbone to LOSA */
        interface xe-0/0/0.0;
        /* R&E Backbone to KANS */
        interface xe-0/0/2.0;
        interface ae0.10 {
            admin-group r_and_e;
        }
        interface ae0.20;
        interface ae1.10 {
            admin-group r_and_e;
        }
        interface ae1.20;
        interface ae2.20;
        interface et-4/0/0.313;
        interface et-4/0/0.113 {
            admin-group r_and_e;
        }
        interface et-10/0/0.312;
        interface et-10/0/0.112 {
            admin-group r_and_e;
        }
        interface et-4/0/0.310;
        interface et-4/0/0.110 {
            admin-group r_and_e;
        }
    }
    bgp {
        log-updown;
        family inet {
            unicast {
                rib-group bgp-rg;
            }
        }
        family inet6 {
            unicast {
            }
        }
        group INTERNET2 {
            type internal;
            local-address 64.57.28.246;
            family inet {
                any;
            }
            family inet-vpn {
                unicast;
            }
            family inet6-vpn {
                unicast;
            }
            family l2vpn {
                signaling;
            }
            export NEXT-HOP-SELF;
            peer-as 11537;
            neighbor 64.57.28.241 {
                description CHIC;
            }
            neighbor 64.57.28.242 {
                description NEWY;
            }
            neighbor 64.57.28.243 {
                description ATLA;
            }
            neighbor 64.57.28.244 {
                description HOUS;
            }
            neighbor 64.57.28.245 {
                description KANS;
            }
            neighbor 64.57.28.247 {
                description SEAT;
            }
            neighbor 64.57.28.248 {
                description LOSA;
            }
            neighbor 64.57.28.249 {
                description WASH;
            }
            neighbor 64.57.28.250 {
                description CLEV;
            }
            neighbor 64.57.28.251 {
                description PAIX;
            }
            neighbor 64.57.28.252 {
                description WILC;
            }
        }
        group INTERNET2-IPv6 {
            type internal;
            local-address 2001:468:7::1;
            family inet6 {
                any;
            }
            export NEXT-HOP-SELF;
            peer-as 11537;
            neighbor 2001:468:1::1 {
                description ATLA;
            }
            neighbor 2001:468:2::1 {
                description CHIC;
            }
            neighbor 2001:468:3::1 {
                description HOUS;
            }
            neighbor 2001:468:4::1 {
                description KANS;
            }
            neighbor 2001:468:5::1 {
                description LOSA;
            }
            neighbor 2001:468:6::1 {
                description NEWY;
            }
            neighbor 2001:468:8::1 {
                description SEAT;
            }
            neighbor 2001:468:9::1 {
                description WASH;
            }
            neighbor 2001:468:a::1 {
                description CLEV;
            }
            neighbor 2001:468:c::1 {
                description PAIX;
            }
            neighbor 2001:468:d::1 {
                description WILC;
            }
        }
        inactive: group OTHER {
            import REJECT-ALL;
        }
        group OTHER-INTERNAL {
            type internal;
            import REJECT-ALL;
            peer-as 11537;
            neighbor 64.57.17.194 {
                description "nms-rpsv.salt zebra bgpd | [NO-MONITOR]";
                local-address 64.57.17.193;
                family inet {
                    unicast;
                    multicast;
                }
                cluster 64.57.17.193;
            }
            neighbor 2001:468:7:11::17:194 {
                description "nms-rpsv.salt zebra bgpd | [NO-MONITOR]";
                family inet6 {
                    unicast;
                    multicast;
                }
            }
        }
        group CONNECTOR {
            type external;
            /* Multihop needs to be enabled to support discard routing */
            multihop {
                ttl 1;
            }
            family inet {
                any {
                    prefix-limit {
                        maximum 3000;
                        teardown 90;
                    }
                }
            }
            export [ SANITY-OUT REMOVE-COMMS-OUT ORIGINATE4 ];
            remove-private;
            neighbor 64.57.28.207 {
                description "[RE] IRON (Idaho Regional Optical Network) | I2-S12950";
                import [ SANITY-IN SET-PREF IRON-IN CONNECTOR-IN ];
                peer-as 46435;
                bfd-liveness-detection {
                    minimum-interval 500;
                    multiplier 3;
                }
            }
            neighbor 198.71.45.231 {
                description "[RE] UEN via AL2S/SALT | I2-S12705";
                import [ SANITY-IN SET-PREF UEN-IN CONNECTOR-IN ];
                export [ SANITY-OUT REMOVE-COMMS-OUT NLR-TP ORIGINATE4 ];
                peer-as 210;
                bfd-liveness-detection {
                    minimum-interval 500;
                    multiplier 3;
                }
            }
            neighbor 198.71.46.84 {
                description "[RE] GlobalSummit via AL2S/KANS | I2-S20098";
                import [ SET-PREF GLOBALSUMMIT-IN CONNECTOR-IN ];
                peer-as 64537;
                bfd-liveness-detection {
                    minimum-interval 1000;
                }
            }
        }
        group CONNECTOR6 {
            type external;
            family inet6 {
                any {
                    prefix-limit {
                        maximum 3000;
                        teardown 90;
                    }
                }
            }
            export [ SANITY6 REMOVE-COMMS-OUT ORIGINATE6 ];
            remove-private;
            neighbor 2001:468:7::0 {
                description "[RE] UEN via AL2S/SALT | I2-S12705";
                import [ SANITY6 SET-PREF UEN-IN6 ];
                peer-as 210;
                bfd-liveness-detection {
                    minimum-interval 500;
                    multiplier 3;
                }
            }
            neighbor 2001:468:b:2::2 {
                description "[RE] GlobalSummit via AL2S/KANS | I2-S20098";
                import [ SET-PREF GLOBALSUMMIT6-IN ];
                peer-as 64537;
                bfd-liveness-detection {
                    minimum-interval 1000;
                }
            }
        }
        group FEDNET {
            type external;
            import [ SANITY-IN REMOVE-COMMS-IN SET-PREF-PEER FEDNET-IN ];
            family inet {
                any {
                    prefix-limit {
                        maximum 3000;
                        teardown 90;
                    }
                }
            }
            export [ SANITY-OUT REMOVE-COMMS-OUT ORIGINATE4 FEDNET-OUT ];
            remove-private;
            neighbor 198.32.153.3 {
                description "NISN via NGIX | I2-S13072";
                export [ SANITY-OUT REMOVE-COMMS-OUT ORIGINATE4 FROM-CUDI FEDNET-OUT ];
                peer-as 297;
            }
            neighbor 198.32.153.121 {
                description "USGS via NGIX | I2-S13073";
                import [ USGS-IN SANITY-IN REMOVE-COMMS-IN SET-PREF-PEER FEDNET-IN ];
                export [ SANITY-OUT REMOVE-COMMS-OUT ORIGINATE4 USGS-OUT REDCLARA-TO-USGS FEDNET-OUT ];
                peer-as 22284;
            }
            neighbor 198.71.45.239 {
                description "NREN via NGIX vlan 166 | I2-S13130";
                hold-time 30;
                export [ SANITY-OUT REMOVE-COMMS-OUT ORIGINATE4 GEANT-TO-NREN CLARA-TO-NREN FEDNET-OUT ];
                peer-as 24;
            }
        }
        group FEDNET6 {
            type external;
            import [ SANITY6 REMOVE-COMMS-IN SET-PREF-PEER FEDNET-IN6 ];
            family inet6 {
                any {
                    prefix-limit {
                        maximum 3000;
                        teardown 90;
                    }
                }
            }
            export [ SANITY6 REMOVE-COMMS-OUT ORIGINATE6 FEDNET-OUT6 ];
            remove-private;
            neighbor 2001:468:ff:17c6::2 {
                description "NREN/NGIX 166 | I2-S13130";
                peer-as 24;
            }
            neighbor 2001:468:7:200::0 {
                description "NISN IPv6 via NGIX | I2-S13072";
                peer-as 297;
            }
        }
        inactive: group ISP-V6 {
            type external;
            import [ SANITY6 REMOVE-COMMS-IN SET-PREF-PEER ISP-V6-IN ];
            family inet6 {
                any {
                    prefix-limit {
                        maximum 3000;
                        teardown 90;
                    }
                }
            }
            export [ SANITY6 REMOVE-COMMS-OUT ORIGINATE6 ISP-V6-OUT ];
            remove-private;
            neighbor 2001:478:6663:200::11 {
                description "Sprint via MIX v6";
                family inet6 {
                    unicast;
                }
                peer-as 1239;
            }
        }
        inactive: group ITN {
            type external;
            import [ SANITY-IN REMOVE-COMMS-IN SET-PREF-PEER ITN-IN ];
            family inet {
                any {
                    prefix-limit {
                        maximum 3000;
                        teardown 90;
                    }
                }
            }
            export [ SANITY-OUT REMOVE-COMMS-OUT ORIGINATE4 ESNET-TO-AMPATH ITN-PEERCONTROLS-OUT ITN-OUT ];
            remove-private;
        }
        inactive: group ITN6 {
            type external;
            import [ SANITY6 REMOVE-COMMS-IN SET-PREF-PEER ITN-IN6 ];
            family inet6 {
                any {
                    prefix-limit {
                        maximum 3000;
                        teardown 90;
                    }
                }
            }
            export [ SANITY6 REMOVE-COMMS-OUT ORIGINATE6 ITN-PEERCONTROLS-OUT ITN-OUT6 ];
            remove-private;
        }
        group AL2S_MGMT {
            type external;
            log-updown;
            import REJECT-ALL;
            family inet {
                unicast {
                    prefix-limit {
                        maximum 20;
                        teardown;
                    }
                }
            }
            export REJECT-ALL;
            remove-private;
            peer-as 65532;
            inactive: bfd-liveness-detection {
                minimum-interval 1000;
            }
            neighbor 64.57.25.172 {
                description "[AL2S-WSC-MGMT] oob.denv ";
                hold-time 12;
                import AL2S_MGMT-IN;
            }
        }
    }
    isis {
        export ISIS-EXPORT;
        rib-group {
            inet isis-rg;
        }
        spf-options delay 200;
        level 2 wide-metrics-only;
        /* AL2S: KANS-SALT R&E */
        interface et-4/0/0.110 {
            bfd-liveness-detection {
                minimum-interval 200;
                multiplier 3;
            }
            level 1 disable;
            level 2 metric 1330;
        }
        /* AL2S: SALT-SEAT R&E */
        interface et-4/0/0.113 {
            bfd-liveness-detection {
                minimum-interval 200;
                multiplier 3;
            }
            level 1 disable;
            level 2 metric 913;
        }
        interface et-4/0/0.310 {
            bfd-liveness-detection {
                minimum-interval 200;
                multiplier 3;
            }
            level 1 disable;
            level 2 metric 1331;
        }
        interface et-4/0/0.313 {
            bfd-liveness-detection {
                minimum-interval 200;
                multiplier 3;
            }
            level 1 disable;
            level 2 metric 914;
        }
        /* AL2S: LOSA-SALT R&E */
        interface et-10/0/0.112 {
            bfd-liveness-detection {
                minimum-interval 200;
                multiplier 3;
            }
            level 1 disable;
            level 2 metric 1304;
        }
        interface et-10/0/0.312 {
            bfd-liveness-detection {
                minimum-interval 200;
                multiplier 3;
            }
            level 1 disable;
            level 2 metric 1305;
        }
        interface ae0.10 {
            level 1 disable;
            level 2 metric 131330;
        }
        interface ae0.20 {
            level 1 disable;
            level 2 metric 131331;
        }
        /* LAG Circuit to SEAT: R&E */
        interface ae1.10 {
            level 1 disable;
            level 2 metric 130913;
        }
        /* LAG Circuit to SEAT: CPS */
        interface ae1.20 {
            level 1 disable;
            level 2 metric 130914;
        }
        interface ae2.10 {
            level 1 disable;
            level 2 metric 131304;
        }
        interface ae2.20 {
            level 1 disable;
            level 2 metric 131305;
        }
        interface all {
        }
        interface lo0.0 {
            level 1 disable;
        }
    }
    msdp {
        rib-group mcast-rpf-rg;
        group INTERNET2 {
            mode mesh-group;
            local-address 64.57.28.246;
            /* CHIC */
            peer 64.57.28.241;
            /* NEWY */
            peer 64.57.28.242;
            /* ATLA */
            peer 64.57.28.243;
            /* HOUS */
            peer 64.57.28.244;
            /* KANS */
            peer 64.57.28.245;
            /* SEAT */
            peer 64.57.28.247;
            /* LOSA */
            peer 64.57.28.248;
            /* WASH */
            peer 64.57.28.249;
            /* CLEV */
            peer 64.57.28.250;
            peer 64.57.28.251;
            peer 64.57.28.252;
        }
        group CONNECTOR {
            export MSDP-FILTER;
            import MSDP-FILTER;
            /* University of New Mexico */
            peer 208.77.76.129 {
                local-address 208.77.76.130;
            }
            /* UEN via AL2S/SALT */
            peer 198.71.45.231 {
                local-address 198.71.45.230;
            }
        }
        group FEDNET {
            export MSDP-FILTER;
            import MSDP-FILTER;
            /* NISN via NGIX */
            peer 198.32.153.3 {
                local-address 198.32.153.205;
            }
            /* DREN */
            peer 138.18.12.253 {
                local-address 64.57.28.246;
            }
            peer 198.71.45.239 {
                local-address 198.71.45.238;
            }
        }
        inactive: group ITN {
            export MSDP-FILTER;
            import MSDP-FILTER;
        }
        inactive: group NONITN {
            export MSDP-FILTER;
            import MSDP-FILTER;
        }
        group MIX {
            export MSDP-FILTER;
            import MSDP-FILTER;
            /* NREN at MIX */
            peer 198.9.201.2 {
                local-address 198.9.201.205;
            }
            /* Sprint at MIX */
            peer 198.9.201.11 {
                local-address 198.9.201.205;
            }
            /* FIX-W/mbone at MIX */
            peer 198.9.201.254 {
                local-address 198.9.201.205;
            }
            /* New Level3 at MIX - static route to reach this RP */
            peer 4.68.0.251 {
                local-address 198.9.202.205;
            }
            /* FIX-W/mbone at MIX-ng */
            peer 198.9.202.253 {
                local-address 198.9.202.205;
            }
            /* Verio at MIX--static route to reach this RP */
            peer 129.250.0.242 {
                local-address 64.57.28.246;
            }
            /* shepfarm via MIX */
            peer 198.9.201.181 {
                local-address 198.9.201.205;
            }
        }
    }
    ldp {
        interface et-4/0/0.310;
        interface et-4/0/0.313;
        interface et-10/0/0.312;
        interface ae0.20;
        interface ae1.20;
        interface ae2.20;
        interface lo0.0;
    }
    pim {
        rib-group {
            inet mcast-rpf-rg;
            inet6 mcast-rpf6-rg;
        }
        import pim-join-filter;
        rp {
            bootstrap-import REJECT-ALL;
            bootstrap-export REJECT-ALL;
            local {
                address 198.32.8.238;
                group-ranges {
                    224.0.0.0/4;
                }
            }
            embedded-rp;
            static {
                address 2001:468::1 {
                    group-ranges {
                        ff05::/16;
                    }
                }
                address 2001:660:3007:300:1:: {
                    group-ranges {
                        ff0e::/16;
                        ff1e::/16;
                    }
                }
                address 2001:700:e000:501::2 {
                    group-ranges {
                        ff3e:30:2001:700::/64;
                    }
                }
            }
        }
        interface all {
            mode sparse;
            version 2;
        }
        interface fxp0.0 {
            disable;
        }
        interface ge-10/2/0.2703 {
            disable;
        }
    }
    connections {
        interface-switch dcn551 {
            interface ge-10/2/0.551;
            interface xe-0/1/2.551;
        }
    }
    l2circuit {
        /* WASH */
        neighbor 64.57.28.249;
        /* WASH */
        neighbor 64.57.28.250;
        /* HOUS */
        neighbor 64.57.28.244;
        /* CHIC */
        neighbor 64.57.28.241 {
            interface xe-0/1/2.552 {
                virtual-circuit-id 6756;
                description "DCN PW-CHIC-SUNN | I2-CHIC-SUNN-LSP-06756";
                ignore-mtu-mismatch;
            }
        }
        /* NEWY */
        neighbor 64.57.28.242;
        /* ATLA */
        neighbor 64.57.28.243;
        /* KANS */
        neighbor 64.57.28.245 {
            interface ge-10/2/6.0 {
                virtual-circuit-id 5849;
            }
            interface ge-10/2/0.549 {
                virtual-circuit-id 6759;
                description "DCN KANS-SALT | I2-KANS-SALT-LSP-06759";
                ignore-mtu-mismatch;
            }
            interface xe-0/0/3.527 {
                virtual-circuit-id 527;
                description UEN-KANS-SALT-TR/CPS;
                ignore-mtu-mismatch;
            }
            interface xe-0/0/3.4060 {
                virtual-circuit-id 4060;
                description IRON-CHIC-SALT-TR/CPS;
                ignore-mtu-mismatch;
            }
        }
        /* SEAT */
        neighbor 64.57.28.247 {
            interface xe-0/0/3.528 {
                virtual-circuit-id 528;
                description UEN-SALT-SEAT-TR/CPS;
                ignore-mtu-mismatch;
            }
            interface ge-10/2/0.550 {
                virtual-circuit-id 6754;
                description "DCN SALT-SEAT | I2-SALT-SEAT-LSP-06754";
                ignore-mtu-mismatch;
            }
            interface xe-0/0/3.4061 {
                virtual-circuit-id 4061;
                description IRON-SALT-SEA;
                ignore-mtu-mismatch;
            }
        }
        /* LOSA */
        neighbor 64.57.28.248 {
            interface xe-0/0/3.529 {
                virtual-circuit-id 529;
                description UEN-LOSA-SALT-TR/CPS;
                ignore-mtu-mismatch;
            }
            interface ge-10/2/5.0 {
                virtual-circuit-id 5980;
            }
            interface xe-0/0/3.4062 {
                virtual-circuit-id 4062;
                description IRON-LOSA-SALT-TR/CPS;
                ignore-mtu-mismatch;
            }
        }
        local-switching {
            interface xe-0/3/0.1086 {
                end-interface {
                    interface et-10/0/0.1086;
                }
                description "[TR-CPS] Internet2/Denver";
                ignore-mtu-mismatch;
            }
        }
    }
    bfd {
        traceoptions {
            file bfd size 2m files 20;
            flag state;
            flag adjacency;
        }
    }
}
policy-options {
    prefix-list ALLOW-ALL {
        0.0.0.0/0;
    }
    prefix-list MATCH-ALL {
        0.0.0.0/0;
    }
    prefix-list BGP-PEERS {
        apply-path "protocols bgp group <*> neighbor <*>";
    }
    prefix-list MSDP-PEERS {
        apply-path "protocols msdp group <*> peer <*>";
    }
    prefix-list BGP-PEERS6 {
        apply-path "protocols bgp group <*> neighbor <*:*>";
    }
    /* List of prefixes which Abilene originates */
    prefix-list INTERNAL {
        /* Internet2 Backbone */
        64.57.16.0/20;
        /* Transit VRF */
        64.57.22.0/24;
        64.57.23.240/28;
        /* Abilene Backbone */
        198.32.8.0/22;
        /* Abilene Observatory */
        198.32.12.0/22;
        /* MANLAN */
        198.32.154.0/24;
        198.71.45.0/24;
        198.71.46.0/24;
    }
    /* List of IPv6 prefixes Abilene originates */
    prefix-list INTERNAL6 {
        2001:468::/32;
    }
    prefix-list QUERY-HOSTS-INTERNAL {
        /* nocmon.net.internet2.edu -- temp monitoring host */
        64.57.25.18/32;
        /* pine.ucs.indiana.edu -- sweeny */
        129.79.9.1/32;
        /* alertmon-dev.grnoc.iu.edu */
        129.79.216.72/32;
        /* dc-snmp.wcc.grnoc.iu.edu */
        129.79.216.79/32;
        134.68.107.113/32;
        /* mon-dev.grnoc.iu.edu */
        134.68.107.123/32;
        /* IUPUI login + SNMP hosts */
        140.182.44.0/28;
        /* IUPUI SNMP hosts */
        140.182.44.32/28;
        /* ndb4 host */
        140.182.44.142/32;
        /* IUB login + SNMP hosts */
        140.182.45.0/28;
        /* IUB SNMP hosts */
        140.182.45.32/28;
        /* nocmon.grnoc.iu.edu */
        149.165.129.24/32;
        /* New Jump Address */
        149.165.134.64/32;
    }
    prefix-list QUERY-HOSTS-EXTERNAL {
        /* Boston University--ticket#11647 */
        128.197.10.4/32;
        /* Boston University--ticket#11647 */
        128.197.11.51/32;
        /* Boston University--ticket#11647 */
        128.197.11.223/32;
        /* Boston University--ticket#11647 */
        128.197.11.224/32;
        /* added ndb2-blmt to QUERY-HOSTS-EXTERNAL */
        129.79.5.18/32;
        /* ANML - ArborNetworks */
        156.56.103.9/32;
        /* ANML - ArborNetworks */
        156.56.103.10/32;
        156.56.103.11/32;
        /* ANML - ArborNetworks */
        156.56.103.12/32;
        /* ANML - ArborNetworks */
        156.56.103.53/32;
        /* Ohio ITEC - nf6.itec.oar.net */
        192.148.251.26/32;
        /* Ohio ITEC - nf7.itec.oar.net */
        192.148.251.27/32;
        /* Internet2 - thunderbird.internet2.edu - ticket# 5679 */
        207.75.164.95/32;
        /* netflow2.internet2.edu*/
        207.75.164.99/32;
        /* netflow3.internet2.edu*/
        207.75.164.133/32;
        207.75.164.233/32;
    }
    prefix-list TACACS-SERVERS {
        /* tacacs2.grnoc.iu.edu */
        129.79.216.162/32;
        /* tacacs.grnoc.iu.edu */
        134.68.107.17/32;
    }
    prefix-list DNS-SERVERS {
        129.79.5.100/32;
        134.68.1.9/32;
    }
    prefix-list NTP-SERVERS {
        64.57.28.240/28;
        /* ntp.indiana.edu */
        129.79.5.100/32;
        /* ntp-1.gw.uiuc.edu */
        130.126.24.24/32;
        134.68.1.9/32;
        192.12.206.228/32;
        /* ntp-e.abilene.ucaid.edu */
        198.32.10.254/32;
        /* ntp-w.abilene.ucaid.edu */
        198.32.11.141/32;
    }
    prefix-list RADIUS-SERVERS {
        140.182.44.69/32;
        140.182.45.56/32;
    }
    prefix-list BGP-PEERS-CPS {
        apply-path "routing-instances cps protocols bgp group <*> neighbor <*>";
    }
    prefix-list UNM-SPONSORED {
        216.161.32.0/23;
    }
    prefix-list UNM-SEGP {
        63.225.1.0/24;
        64.234.128.0/18;
        192.56.77.0/24;
        192.65.78.0/24;
        192.94.216.0/24;
        192.132.89.0/24;
        192.136.110.0/24;
        192.207.226.0/24;
        198.59.106.0/23;
        198.59.108.0/24;
        198.59.153.0/24;
        198.59.187.0/24;
        198.59.188.0/23;
        198.59.190.0/24;
        198.176.219.0/24;
        198.187.251.0/24;
        204.134.48.0/23;
        204.134.50.0/24;
        204.134.54.0/23;
        204.134.56.0/23;
        204.134.66.0/24;
        204.134.67.0/24;
        204.134.68.0/24;
        204.134.85.0/24;
        204.134.102.0/24;
        204.134.103.0/24;
        205.167.120.0/23;
        206.192.128.0/18;
        206.206.136.0/21;
        206.206.144.0/20;
    }
    prefix-list UNM-EXCEPTION-SPONSORED {
        169.203.194.240/29;
    }
    prefix-list UNM-FEDNET {
        128.165.0.0/16;
        192.65.95.0/24;
        204.121.0.0/16;
    }
    prefix-list UEN-PARTICIPANT {
        63.230.184.0/24;
        63.230.185.0/24;
        63.230.186.0/24;
        63.230.187.0/24;
        74.118.16.0/24;
        74.118.17.0/24;
        96.5.128.0/17;
        96.5.152.0/23;
        128.110.0.0/16;
        128.116.0.0/16;
        128.117.0.0/16;
        128.138.0.0/16;
        128.187.0.0/16;
        128.198.0.0/16;
        129.19.0.0/16;
        129.19.0.0/18;
        129.19.6.0/24;
        129.72.0.0/16;
        129.82.0.0/16;
        129.101.0.0/16;
        129.123.0.0/16;
        130.253.0.0/16;
        132.163.0.0/16;
        132.178.0.0/16;
        132.194.0.0/16;
        134.20.0.0/16;
        134.50.0.0/16;
        134.121.0.0/18;
        134.121.64.0/19;
        134.121.96.0/21;
        134.121.112.0/21;
        134.121.128.0/20;
        134.121.160.0/19;
        134.121.200.0/21;
        134.121.208.0/20;
        134.121.224.0/19;
        137.75.0.0/16;
        138.67.0.0/16;
        140.172.0.0/16;
        140.197.0.0/16;
        140.226.0.0/16;
        141.221.0.0/16;
        155.97.0.0/16;
        155.98.0.0/16;
        155.99.0.0/16;
        155.100.0.0/15;
        157.132.0.0/16;
        157.201.0.0/16;
        168.179.0.0/16;
        192.12.240.0/24;
        192.26.83.0/24;
        192.43.217.0/24;
        192.43.244.0/24;
        192.52.106.0/24;
        192.77.14.0/24;
        192.80.27.0/24;
        192.94.21.0/24;
        192.149.148.0/24;
        192.150.224.0/24;
        192.207.159.0/24;
        192.207.160.0/24;
        198.11.16.0/20;
        198.17.13.0/24;
        198.59.7.0/24;
        198.59.55.0/24;
        198.59.61.0/24;
        198.59.69.0/24;
        198.59.70.0/24;
        198.59.81.0/24;
        198.59.82.0/24;
        198.59.83.0/24;
        198.60.30.0/23;
        198.60.217.0/24;
        198.60.218.0/23;
        198.60.220.0/22;
        198.60.224.0/22;
        198.60.226.0/24;
        198.60.238.0/24;
        198.118.206.0/24;
        199.4.250.0/23;
        199.104.18.0/24;
        199.104.23.0/24;
        199.104.32.0/24;
        199.104.93.0/24;
        204.89.132.0/23;
        204.99.159.0/24;
        204.99.160.0/20;
        204.99.176.0/23;
        204.134.128.0/24;
        204.134.131.0/24;
        204.134.132.0/24;
        204.134.133.0/24;
        204.134.134.0/24;
        204.134.135.0/24;
        204.134.136.0/24;
        204.134.137.0/24;
        204.134.138.0/24;
        204.134.139.0/24;
        204.134.140.0/24;
        204.134.141.0/24;
        204.134.142.0/24;
        204.134.143.0/24;
        204.134.144.0/24;
        204.134.145.0/24;
        204.134.146.0/24;
        204.134.148.0/24;
        204.134.149.0/24;
        204.134.150.0/24;
        204.134.151.0/24;
        204.134.152.0/24;
        204.134.153.0/24;
        204.134.161.0/24;
        204.134.162.0/24;
        204.134.163.0/24;
        204.134.164.0/24;
        204.134.165.0/24;
        204.134.180.0/24;
        204.134.181.0/24;
        204.134.182.0/24;
        204.134.191.0/24;
        204.134.194.0/23;
        204.134.217.0/24;
        204.134.219.0/24;
        204.134.220.0/24;
        204.134.251.0/24;
        204.134.252.0/22;
        204.228.64.0/24;
        204.228.67.0/24;
        204.228.68.0/24;
        204.228.78.0/24;
        204.228.80.0/24;
        204.228.186.0/24;
        204.228.192.0/24;
        204.228.201.0/24;
        204.228.208.0/23;
        204.228.211.0/24;
        205.124.252.0/24;
        205.170.168.0/21;
        206.206.18.0/24;
        206.207.64.0/20;
        206.207.72.0/23;
        206.207.74.0/24;
        206.207.93.0/24;
        206.207.96.0/24;
        206.207.104.0/24;
        206.207.113.0/24;
        206.207.114.0/23;
        206.207.118.0/24;
        206.207.125.0/24;
        207.70.27.0/24;
        207.70.35.0/24;
        207.70.40.0/24;
        207.70.42.0/24;
        207.70.44.0/23;
        207.70.47.0/24;
        207.70.53.0/24;
        207.252.94.0/23;
        207.252.204.0/23;
        209.19.140.0/24;
        209.186.50.0/23;
        209.186.50.0/24;
        209.186.51.0/24;
        209.223.6.0/24;
        209.223.250.0/23;
    }
    prefix-list UEN-SPONSORED {
        138.67.0.0/16;
        138.86.0.0/16;
        192.26.83.0/24;
    }
    prefix-list UEN-SEGP {
        96.5.128.0/17;
        96.5.152.0/23;
        134.250.0.0/16;
        137.190.0.0/16;
        144.17.0.0/16;
        144.35.0.0/16;
        144.38.0.0/16;
        144.39.0.0/16;
        146.86.0.0/16;
        158.91.0.0/16;
        160.7.0.0/16;
        160.7.192.0/19;
        160.7.224.0/21;
        161.28.0.0/16;
        161.119.0.0/16;
        163.6.0.0/16;
        163.248.0.0/16;
        165.239.0.0/16;
        168.177.0.0/16;
        168.178.0.0/15;
        168.180.0.0/16;
        173.227.231.0/24;
        192.41.70.0/24;
        192.41.96.0/22;
        192.42.147.0/24;
        192.84.171.0/24;
        192.120.193.0/24;
        198.60.0.0/23;
        198.60.1.0/24;
        198.60.2.0/24;
        198.60.4.0/23;
        198.60.8.0/21;
        198.60.16.0/24;
        198.60.64.0/19;
        199.104.0.0/18;
        199.104.69.0/24;
        199.104.76.0/23;
        199.104.76.0/24;
        199.104.87.0/24;
        199.104.88.0/23;
        204.99.128.0/18;
        204.99.153.0/24;
        204.99.154.0/23;
        204.113.0.0/16;
        204.154.122.0/23;
        204.228.210.0/23;
        205.118.0.0/15;
        205.120.0.0/13;
    }
    prefix-list UEN-PARTICIPANT6 {
        2001:468:0800::/40;
        2001:1948::/32;
        2620:e:c000::/48;
        2620:c9:8000::/48;
        2620:10f:3000::/40;
    }
    prefix-list BGP-PEERS6-CPS {
        apply-path "routing-instances cps protocols bgp group <*> neighbor <*:*>";
    }
    prefix-list SALT-RACKLAN-ACCESS {
        /* ARIN Allocation */
        64.57.16.0/20;
        /* ISI East */
        65.114.168.0/24;
        129.79.1.1/32;
        /* ndb2-blmt.abilene.ucaid.edu */
        129.79.5.18/32;
        129.79.5.80/32;
        /* DNS Server */
        129.79.5.100/32;
        /* ndb1-blmt.abilene.ucaid.edu */
        129.79.5.225/32;
        /* rhn.ussg.iu.edu */
        129.79.43.158/32;
        129.79.216.64/27;
        129.79.216.160/27;
        /* leap.grnoc.iu.edu */
        129.79.217.202/32;
        /* DNS Resolver */
        134.68.1.9/32;
        134.68.107.0/24;
        134.68.142.0/24;
        134.68.220.127/32;
        /* IUPUI login + SNMP hosts */
        140.182.44.0/28;
        /* IUPUI login hosts */
        140.182.44.16/28;
        /* IUPUI SNMP hosts */
        140.182.44.32/28;
        140.182.44.69/32;
        140.182.44.70/32;
        140.182.44.71/32;
        140.182.44.72/32;
        /* syslog.grnoc.iu.edu */
        140.182.44.73/32;
        140.182.44.77/32;
        140.182.44.128/32;
        140.182.44.154/32;
        /* pas.ctc.grnoc.iu.edu */
        140.182.44.215/32;
        /* IUB login + SNMP hosts */
        140.182.45.0/28;
        /* IUB login hosts */
        140.182.45.16/28;
        /* IUB SNMP hosts */
        140.182.45.32/28;
        140.182.45.56/32;
        140.182.45.57/32;
        140.182.45.58/32;
        140.182.45.59/32;
        140.182.45.75/32;
        /* pas.bldc.grnoc.iu.edu */
        140.182.45.101/32;
        /* build.grnoc.iu.edu */
        140.182.45.171/32;
        140.182.45.180/32;
        140.182.45.192/32;
        140.182.45.200/32;
        /* nms-base.net.internet2.edu */
        140.182.45.231/32;
        140.182.45.234/32;
        /* nocmon.grnoc.iu.edu */
        149.165.129.24/32;
        149.165.134.51/32;
        149.165.134.64/32;
        149.165.253.0/28;
        149.165.254.158/32;
        /* GlobalNOC Testlab Network */
        156.56.5.0/24;
        /* GRNOC Network Test Lab Management Network */
        156.56.6.0/24;
        156.56.31.6/32;
        /* GlobalNOC Testlab Network */
        156.56.72.0/25;
        /* VPN Groups */
        156.56.175.0/27;
        /* l2tpvpn-iub */
        156.56.245.1/32;
        156.56.247.193/32;
        /* jump.grnoc.iu.edu */
        192.12.206.196/32;
        /* sd-pc.grnoc.iu.edu */
        192.12.206.228/32;
        198.71.45.0/24;
        198.108.5.0/24;
        /* Internet2 Ann Arbor */
        207.75.164.0/23;
    }
    prefix-list OBSERVATORY-SSH {
        /* leap.grnoc.iu.edu */
        129.79.217.202/32;
        /* sysmon.grnoc.iu.edu */
        134.68.107.4/32;
        /* login.net.internet2.edu */
        134.68.107.10/32;
        /* nms-base */
        134.68.107.34/32;
        /* nms-login */
        134.68.107.36/32;
        /* skip */
        134.68.142.50/32;
        /* nocmon.grnoc.iu.edu */
        149.165.129.24/32;
        /* jump */
        192.12.206.196/32;
    }
    prefix-list CPS-LONI-CPS-ONLY {
        96.125.0.0/17;
        140.221.128.0/17;
        192.251.100.0/24;
        192.251.101.0/24;
        192.251.102.0/24;
        192.251.103.0/24;
        198.62.88.0/24;
        198.136.130.0/24;
    }
    prefix-list FRPG-SEGP {
        65.183.69.0/24;
        65.183.72.0/24;
    }
    prefix-list BGP-PEERS-ROUTING-INSTANCE {
        apply-path "routing-instances <*> protocols bgp group <*> neighbor <*>";
    }
    prefix-list TRANSIT {
        64.57.22.0/24;
    }
    prefix-list TRANSIT6 {
        2001:468:ef01::/48;
    }
    prefix-list DEFAULT {
        0.0.0.0/0;
    }
    prefix-list DEFAULT6 {
        ::/0;
    }
    prefix-list IRON-PARTICIPANT {
        8.23.152.0/24;
        8.23.153.0/24;
        8.23.154.0/24;
        8.23.155.0/24;
        12.17.162.0/24;
        66.62.151.0/24;
        67.107.224.0/24;
        67.107.225.0/24;
        67.107.226.0/23;
        67.108.46.0/23;
        69.166.61.0/24;
        69.166.62.0/24;
        69.166.63.0/24;
        74.118.20.0/24;
        74.118.21.0/24;
        74.118.22.0/24;
        74.118.23.0/24;
        96.5.128.0/17;
        96.5.152.0/23;
        129.101.0.0/16;
        129.101.249.0/24;
        129.101.251.0/24;
        129.101.252.0/24;
        132.178.0.0/16;
        134.20.0.0/16;
        134.50.0.0/16;
        134.50.87.0/24;
        134.50.210.0/24;
        134.121.64.0/19;
        134.121.96.0/21;
        134.121.112.0/21;
        134.121.128.0/20;
        134.121.160.0/19;
        134.121.200.0/21;
        134.121.208.0/20;
        134.121.224.0/19;
        141.221.0.0/16;
        141.221.127.0/28;
        157.201.0.0/16;
        173.227.231.0/24;
        173.229.60.0/22;
        192.94.21.0/24;
        198.17.13.0/24;
        198.60.218.0/23;
        198.60.220.0/22;
        198.60.224.0/22;
        199.104.18.0/24;
        199.104.32.0/19;
        204.134.128.0/24;
        204.134.131.0/24;
        204.134.132.0/24;
        204.134.133.0/24;
        204.134.135.0/24;
        204.134.136.0/24;
        204.134.137.0/24;
        204.134.138.0/24;
        204.134.139.0/24;
        204.134.140.0/24;
        204.134.141.0/24;
        204.134.143.0/24;
        204.134.144.0/24;
        204.134.145.0/24;
        204.134.146.0/24;
        204.134.148.0/24;
        204.134.150.0/24;
        204.134.151.0/24;
        204.134.152.0/24;
        204.134.153.0/24;
        204.134.161.0/24;
        204.134.162.0/24;
        204.134.163.0/24;
        204.134.164.0/24;
        204.134.165.0/24;
        204.134.180.0/24;
        204.134.181.0/24;
        204.134.182.0/24;
        204.134.188.0/24;
        204.134.189.0/24;
        204.134.191.0/24;
        204.134.220.0/24;
        204.134.230.0/24;
        204.228.192.0/22;
        204.228.208.0/23;
        206.207.64.0/21;
        206.207.72.0/23;
        206.207.74.0/24;
        206.207.93.0/24;
        206.207.96.0/24;
        206.207.118.0/24;
    }
    prefix-list LHCONE-INTERNAL {
        64.57.30.128/25;
    }
    prefix-list LHCONE-INTERNAL6 {
        2001:468:ef00::/48;
    }
    prefix-list SALT-AL2S-RACKLAN {
        64.57.31.0/24;
        64.57.31.48/28;
    }
    prefix-list AL2S-INTERNAL {
        64.57.30.0/25;
    }
    prefix-list AL2S-CONTROLLERS {
        140.182.45.192/32;
    }
    prefix-list SC12 {
        140.221.128.0/17;
    }
    prefix-list SC12-6 {
        2001:468:1f07::/48;
    }
    prefix-list MONTANA-PARTICIPANT {
        150.131.0.0/16;
        192.73.48.0/24;
        192.160.47.0/24;
        192.207.124.0/24;
        192.231.192.0/24;
        207.196.129.0/24;
        207.196.132.0/22;
        207.196.136.0/22;
        207.196.140.0/22;
        207.196.144.0/22;
        207.196.148.0/23;
        207.196.153.0/24;
        207.196.154.0/23;
        207.196.156.0/23;
        207.196.158.0/23;
        207.196.167.0/24;
        207.196.168.0/22;
        207.196.172.0/23;
        207.196.174.0/24;
        207.196.175.0/24;
        207.196.176.0/23;
        207.196.178.0/24;
        207.196.180.0/22;
        207.196.184.0/21;
        207.196.192.0/21;
        207.196.200.0/22;
        207.196.204.0/22;
        207.196.240.0/23;
    }
    prefix-list MONTANA-PARTICIPANT6 {
        2001:468:2200::/40;
        2620:75:8000::/48;
        2620:104:8000::/40;
    }
    prefix-list STATIC-INTO-ISIS {
        64.57.31.0/24;
    }
    prefix-list SALT-BFD-PEERS {
        64.57.22.234/31;
        64.57.28.21/32;
        64.57.28.207/32;
        198.71.45.0/26;
        198.71.45.231/32;
        198.71.46.84/31;
        2001:468:b:2::2/127;
    }
    prefix-list UEN-SC13 {
        155.98.20.0/22;
        155.98.58.0/23;
    }
    prefix-list UEN-SC13-6;
    prefix-list SC13 {
        140.221.128.0/17;
    }
    prefix-list SC13-6 {
        2001:468:1f07::/48;
    }
    prefix-list BROCADE-FMS-SNMP {
        192.146.127.74/32;
        192.146.127.76/32;
    }
    prefix-list FRGP-IN6 {
        2610:20:6b00::/40;
        2610:20:8800::/38;
    }
    prefix-list FRGP-PARTICIPANT {
        63.229.248.0/24;
        67.230.208.0/20;
        128.116.0.0/16;
        128.117.0.0/16;
        128.138.0.0/16;
        129.19.0.0/16;
        129.19.0.0/18;
        129.19.6.0/24;
        129.72.0.0/16;
        129.82.0.0/16;
        132.163.0.0/16;
        132.194.0.0/16;
        137.75.0.0/16;
        138.67.0.0/16;
        140.172.0.0/16;
        140.208.128.0/17;
        140.226.0.0/16;
        157.132.0.0/16;
        166.113.0.0/16;
        192.12.240.0/24;
        192.26.83.0/24;
        192.43.217.0/24;
        192.43.244.0/24;
        192.52.106.0/24;
        192.65.143.0/24;
        192.94.173.0/24;
        192.133.29.0/24;
        192.149.148.0/24;
        192.150.224.0/24;
        198.11.16.0/20;
        198.49.6.0/24;
        198.59.7.0/24;
        198.59.54.0/24;
        198.59.55.0/24;
        198.59.61.0/24;
        198.59.69.0/24;
        198.59.70.0/24;
        198.59.81.0/24;
        198.59.82.0/24;
        198.59.83.0/24;
        198.118.206.0/24;
        198.177.182.0/24;
        198.187.158.0/24;
        198.200.151.0/24;
        199.4.250.0/23;
        199.104.104.0/24;
        199.104.105.0/24;
        199.127.132.0/22;
        199.168.84.0/22;
        199.184.189.0/24;
        199.201.248.0/24;
        204.69.139.0/24;
        204.89.132.0/23;
        204.131.58.0/24;
        204.131.62.0/24;
        204.131.208.0/24;
        204.131.247.0/24;
        204.132.224.0/20;
        204.133.207.0/24;
        204.145.202.0/24;
        204.154.122.0/23;
        204.225.150.0/24;
        204.228.67.0/24;
        204.228.68.0/22;
        204.228.68.0/24;
        204.228.69.0/24;
        204.228.78.0/24;
        204.228.80.0/24;
        204.228.170.0/24;
        204.228.175.0/24;
        204.228.176.0/20;
        204.238.94.0/24;
        204.238.123.0/24;
        204.238.237.0/24;
    }
    prefix-list FRGP-PARTICIPANT-EXCEPTION {
        192.43.217.165/32;
    }
    prefix-list FRGP-PARTICIPANT6 {
        2001:468:500::/40;
        2001:468:503::/48;
        2610:20:6b00::/40;
        2610:20:8800::/38;
        2610:20:8800::/48;
        2610:20:9000::/44;
        2620:31:4000::/40;
        2620:117:2000::/40;
    }
    prefix-list FRGP-SEGP {
        65.183.69.0/24;
        65.183.72.0/24;
        66.195.91.0/24;
        67.230.192.0/20;
        72.166.150.0/24;
        97.107.64.0/21;
        97.107.72.0/24;
        97.107.76.0/22;
        128.198.0.0/16;
        129.19.0.0/19;
        129.19.6.0/24;
        129.19.32.0/19;
        129.19.92.0/23;
        129.19.104.0/22;
        129.19.108.0/22;
        129.19.128.0/20;
        129.19.150.0/24;
        129.19.151.0/24;
        129.19.152.0/24;
        129.19.153.0/24;
        129.19.154.0/24;
        129.19.155.0/24;
        129.19.176.0/20;
        129.82.177.0/24;
        130.253.0.0/16;
        137.84.0.0/16;
        137.85.0.0/16;
        137.86.0.0/16;
        137.87.0.0/16;
        137.88.0.0/16;
        137.89.0.0/16;
        137.90.0.0/16;
        146.166.0.0/16;
        147.153.0.0/16;
        156.108.0.0/16;
        158.142.0.0/16;
        159.238.0.0/16;
        161.97.0.0/16;
        161.98.0.0/16;
        164.47.0.0/16;
        164.104.0.0/16;
        165.127.0.0/16;
        167.86.0.0/16;
        192.55.229.0/24;
        192.70.175.0/24;
        192.70.202.0/24;
        192.111.53.0/24;
        192.131.93.0/24;
        192.136.70.0/24;
        192.146.215.0/24;
        192.146.216.0/24;
        192.188.155.0/24;
        192.206.115.0/24;
        198.49.6.0/24;
        198.59.2.0/24;
        198.59.36.0/24;
        198.59.46.0/24;
        198.59.47.0/24;
        198.59.48.0/24;
        198.59.49.0/24;
        198.59.208.0/24;
        198.59.209.0/24;
        198.59.236.0/24;
        198.59.237.0/24;
        198.99.171.0/24;
        199.167.240.0/24;
        204.132.32.0/20;
        204.154.122.0/23;
        204.228.78.0/24;
        204.228.89.0/24;
        204.228.90.0/23;
        204.228.92.0/22;
        204.228.96.0/19;
        204.229.128.0/18;
        206.201.192.0/20;
        206.253.64.0/19;
    }
    prefix-list FRGP-SEGP-CPS-ONLY {
        198.202.200.0/23;
    }
    prefix-list FRGP-SPONSORED {
        69.44.86.0/24;
        69.44.87.0/24;
        138.67.0.0/16;
        138.86.0.0/16;
        140.226.0.0/16;
        192.26.83.0/24;
        204.228.64.0/24;
    }
    prefix-list GLOBALSUMMIT {
        162.244.104.0/22;
        162.244.108.0/23;
        162.252.68.0/24;
    }
    prefix-list GLOBALSUMMIT6 {
        2001:468:1f0c::/48;
        2001:468:1fcc::/48;
    }
    prefix-list IRON-SEGP {
        67.50.51.0/24;
        74.118.19.0/24;
        209.210.144.0/24;
    }
    prefix-list SALT-BFD-PEERS6 {
        2001:468:7::0/128;
    }
    prefix-list SERVER-WEB {
        /* suitsat.uits.iu.edu (was rhns.ussg.iu.edu) */
        129.79.113.50/32;
        /* ftp.ussg.iu.edu */
        156.56.247.193/32;
    }
    policy-statement AL2S-IN-INBAND-BACKUP {
        term accept {
            from {
                prefix-list-filter AL2S-INTERNAL orlonger;
                prefix-list-filter SALT-AL2S-RACKLAN orlonger;
            }
            then {
                local-preference 250;
                community add NO-EXPORT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S-IN-INBAND-PRIMARY {
        term accept {
            from {
                prefix-list-filter AL2S-INTERNAL orlonger;
                prefix-list-filter SALT-AL2S-RACKLAN orlonger;
            }
            then {
                local-preference 260;
                community add NO-EXPORT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S-IN-OOB-BACKUP {
        term accept {
            from {
                prefix-list-filter AL2S-INTERNAL orlonger;
                prefix-list-filter SALT-AL2S-RACKLAN orlonger;
            }
            then {
                local-preference 150;
                community add NO-EXPORT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S-IN-OOB-PRIMARY {
        term accept {
            from {
                prefix-list-filter AL2S-INTERNAL orlonger;
                prefix-list-filter SALT-AL2S-RACKLAN orlonger;
            }
            then {
                local-preference 160;
                community add NO-EXPORT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S-OUT-INBAND-BACKUP {
        term send-default {
            from {
                route-filter 0.0.0.0/0 exact {
                    next-hop self;
                }
            }
            then {
                metric {
                    igp 30;
                }
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S-OUT-INBAND-PRIMARY {
        term send-default {
            from {
                route-filter 0.0.0.0/0 exact {
                    next-hop self;
                }
            }
            then {
                metric {
                    igp 10;
                }
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S-OUT-OOB-BACKUP {
        term send-default {
            from {
                route-filter 0.0.0.0/0 exact {
                    next-hop self;
                }
            }
            then {
                metric {
                    igp 130;
                }
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S-OUT-OOB-PRIMARY {
        term send-default {
            from {
                route-filter 0.0.0.0/0 exact {
                    next-hop self;
                }
            }
            then {
                metric {
                    igp 110;
                }
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S_MGMT-IN {
        term accept {
            from {
                prefix-list-filter SALT-AL2S-RACKLAN exact;
            }
            then {
                community add NO-EXPORT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement AL2S_MGMT-OUT {
        term accept {
            from {
                prefix-list-filter DEFAULT exact;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement CLARA-TO-NREN {
        /* CLARA<->NREN transit (ucaid approved) */
        term FROM {
            from as-path CLARA;
            then accept;
        }
    }
    policy-statement CONNECTOR-IN {
        /* remove BGP communities which connectors should not announce */
        term remove-comms {
            then {
                community delete LOW-PEERS;
                community delete HIGH-PEERS;
                next term;
            }
        }
        term discard {
            from {
                community DISCARD;
                /* only allow /24-/32 masks for discard routes */
                route-filter 0.0.0.0/0 prefix-length-range /24-/32;
            }
            to rib inet.0;
            then {
                /* add no-export so these are leaked outside of Abilene */
                community add NO-EXPORT;
                /* set next-hop to the destination-address on the dsc.0 interface */
                next-hop 198.32.11.7;
                accept;
            }
        }
        /* allow unicast routes upto /27; note: routes have already passed the individual connector policy */
        term allow-unicast {
            from {
                route-filter 0.0.0.0/0 upto /27;
            }
            to rib inet.0;
            then {
                community add PARTICIPANT;
                accept;
            }
        }
        term allow-multicast {
            from {
                route-filter 0.0.0.0/0 upto /27;
            }
            to rib inet.2;
            then {
                community add PARTICIPANT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-AS2914-OUT {
        term reject {
            from community CPS-BLOCK-AS2914-OUT;
            then reject;
        }
        term prepend {
            from community CPS-AS2914-OUT;
            then next policy;
        }
        term accept {
            then accept;
        }
    }
    policy-statement CPS-CONNECTOR-IN {
        term block-private-asn {
            from as-path PRIVATE;
            then reject;
        }
        term block-commercial-asn {
            from as-path COMMERCIAL-CPS;
            then reject;
        }
        term discard {
            from {
                community DISCARD;
                /* only allow /24-/32 masks for discard routes */
                route-filter 0.0.0.0/0 prefix-length-range /24-/32;
            }
            then {
                /* add no-export so these are leaked outside of Abilene */
                community add NO-EXPORT;
                /* set next-hop to the destination-address on the dsc.0 interface */
                accept;
            }
        }
        /* allow unicast routes upto /27; note: routes have already passed the individual connector policy */
        term allow-unicast {
            from {
                route-filter 0.0.0.0/0 upto /24;
            }
            then {
                community add CPS-CONNECTOR;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-CONNECTOR-OUT {
        /* announce routes from CPS peer networks */
        term announce-peers {
            from {
                protocol bgp;
                community CPS-PEERS;
            }
            then accept;
        }
        term announce-internal {
            from {
                protocol static;
                route-filter 198.32.9.0/24 exact;
                route-filter 64.57.29.0/24 exact;
                route-filter 64.57.22.0/24 exact;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-CONNECTOR-OUT6 {
        term announce-peers {
            from {
                family inet6;
                protocol bgp;
                community CPS-PEERS;
            }
            then accept;
        }
        term announce-internal {
            from {
                family inet6;
                protocol static;
                route-filter 2001:468:ff00::/40 exact;
                route-filter 2001:468:ef01::/48 exact;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-EXPORT {
        term direct {
            from protocol direct;
            then {
                community add CPS;
                accept;
            }
        }
        term bgp {
            from protocol bgp;
            then {
                community add CPS;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-FRGP-IN6 {
        term accept {
            from {
                family inet6;
                protocol bgp;
                prefix-list-filter FRGP-PARTICIPANT6 exact;
            }
            then {
                community add CPS-CONNECTOR;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-IMPORT {
        term bgp {
            from community CPS;
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-PEER6-IN {
        term strip-communities {
            then {
                community delete ALL-COMMS;
                next term;
            }
        }
        /* Allows only longer connector prefixes from peers */
        term reject-Internet2-space {
            from {
                route-filter 2001:468::/32 upto /39;
                route-filter 2001:468:ff00::/40 orlonger;
            }
            then reject;
        }
        term accept {
            from protocol bgp;
            to rib cps.inet6.0;
            then {
                community add CPS-PEERS;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-PEER6-OUT {
        term originate {
            from {
                protocol static;
                route-filter 2001:468:ff00::/40 exact;
                route-filter 2001:468::/32 exact;
            }
            then {
                as-path-prepend 11537;
                accept;
            }
        }
        term block-specifics {
            from {
                route-filter 2001:468::/32 longer;
            }
            then reject;
        }
        /* Block Transitrail Connector routes */
        term block-tr {
            from {
                protocol bgp;
                community CPS-TR-CONNECTOR;
            }
            then reject;
        }
        term announce {
            from {
                family inet6;
                protocol bgp;
                community CPS-CONNECTOR;
            }
            then next policy;
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-PEERCONTROLS-OUT {
        term prepend1 {
            from community CPS-PREPEND1;
            then {
                as-path-prepend 11537;
                accept;
            }
        }
        term prepend2 {
            from community CPS-PREPEND2;
            then {
                as-path-prepend "11537 11537";
                accept;
            }
        }
        term prepend3 {
            from community CPS-PREPEND3;
            then {
                as-path-prepend "11537 11537 11537";
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-TR-REMOVE-COMMS {
        term remove {
            then {
                community delete CPS-PREPEND1-Limelight;
                community delete CPS-PREPEND1-RoadRunner;
                community delete CPS-PREPEND1-Google;
                community delete CPS-PREPEND1-nLayer;
                community delete CPS-PREPEND1-Carpathia;
                community delete CPS-PREPEND1-MICROSOFT;
                community delete CPS-PREPEND1-Highwinds;
                next policy;
            }
        }
    }
    policy-statement CPS-UEN-IN {
        term accept {
            from {
                protocol bgp;
                prefix-list-filter UEN-PARTICIPANT orlonger;
                prefix-list-filter UEN-SPONSORED orlonger;
                prefix-list-filter UEN-SEGP orlonger;
            }
            then next policy;
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-UEN-IN6 {
        term accept {
            from {
                family inet6;
                protocol bgp;
                prefix-list-filter UEN-PARTICIPANT6 orlonger;
            }
            then {
                community add CPS-CONNECTOR;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement CPS-V6-REMOVE-COMMS {
        term remove {
            then {
                community delete HIGH-PEERS;
                community delete LOW-PEERS;
                community delete LOW;
                community delete HIGH;
                community delete DISCARD;
                community delete CPS;
                community delete EQUAL-TO-PEERS;
                community delete LOWER-THAN-PEERS;
            }
        }
    }
    policy-statement DEFAULT-IN {
        term accept {
            from {
                protocol bgp;
                prefix-list-filter DEFAULT exact;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement DEFAULT-OUT {
        term accept {
            from {
                protocol bgp;
                prefix-list-filter DEFAULT exact;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement DEFAULT6-IN {
        term accept {
            from {
                protocol bgp;
                prefix-list-filter DEFAULT6 exact;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement DEFAULT6-OUT {
        term accept {
            from {
                protocol bgp;
                prefix-list-filter DEFAULT6 exact;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    /* import policy for FEDNET peers */
    policy-statement FEDNET-IN {
        term block-long-prefixes {
            from {
                route-filter 0.0.0.0/0 prefix-length-range /28-/32;
            }
            then reject;
        }
        term set-community {
            from protocol bgp;
            then {
                /* community add FEDNET;*/
                accept;
            }
        }
    }
    policy-statement FEDNET-IN6 {
        term set-community {
            from protocol bgp;
            then {
                /* community add FEDNET;*/
                accept;
            }
        }
    }
    /* export policy from FEDNET peers */
    policy-statement FEDNET-OUT {
        /* don't announce small prefixes */
        term block-long-prefixes {
            from {
                route-filter 0.0.0.0/0 prefix-length-range /28-/32;
            }
            then reject;
        }
        /* term allow-netplus-cloud {
            from {
                protocol bgp;
                community NETPLUS-CLOUD;
            }
            then accept;
        } */
        /* don't announce these routes via nlri=unicast or multicast */
        /* term block-unicast-multicast {
            from {
                protocol bgp;
                community [ CONNECTOR-ONLY COMMERCIAL-PEER ];
            }
            then reject;
        } */
        /* announce ITN routes from peers w/exception to reach FEDNETs (ie IFTNs) */
        term allow-iftn {
            from {
                protocol bgp;
                /* community IFTN; */
            }
            then accept;
        }
        /* don't announce nlri=unicast routes from fednet or international peers */
        term block-fednet-itn-unicast {
            from {
                protocol bgp;
                rib inet.0;
                /* note: community match is a logical OR */
                /* community [ FEDNET ITN NONITN ]; */
            }
            then reject;
        }
        /* announce all other unicast and multicast routes */
        term accept {
            from protocol bgp;
            then accept;
        }
    }
    policy-statement FEDNET-OUT6 {
        /* don't announce these routes via nlri=unicast or multicast */
        /* term block-unicast-multicast {
            from {
                protocol bgp;
                community [ CONNECTOR-ONLY COMMERCIAL-PEER ];
            }
            then reject;
        } */
        /* announce all other routes via nlri=unicast and multicast */
        term allow {
            from protocol bgp;
            then accept;
        }
    }
    policy-statement FRGP-IN {
        term participant {
            from {
                protocol bgp;
                prefix-list-filter FRGP-PARTICIPANT orlonger;
            }
            then next policy;
        }
        term sponsored {
            from {
                protocol bgp;
                prefix-list-filter FRGP-SPONSORED orlonger;
            }
            then {
                community add SPONSORED;
                next policy;
            }
        }
        term SEGP {
            from {
                protocol bgp;
                prefix-list-filter FRGP-SEGP orlonger;
            }
            then {
                community add SEGP;
                next policy;
            }
        }
        term participant_exception {
            from {
                prefix-list-filter FRGP-PARTICIPANT-EXCEPTION exact;
            }
        }
        term segp {
            from protocol bgp;
            then {
                community add SEGP;
                next policy;
            }
        }
        term fednet {
            from protocol bgp;
            then {
                /* community add FEDNET; */
                next policy;
            }
        }
        term reject-unicast {
            to rib inet.0;
            then reject;
        }
    }
    policy-statement FRGP-IN6 {
        term accept {
            from {
                family inet6;
                prefix-list-filter FRGP-PARTICIPANT6 exact;
            }
            then {
                community add PARTICIPANT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement FROM-CUDI {
        term FROM {
            /* allow NISN-CUDI transit via I2, ticket#11664 */
            from as-path CUDI;
            then accept;
        }
    }
    policy-statement GEANT-TO-NREN {
        from as-path GEANT;
        then accept;
    }
    policy-statement GLOBALSUMMIT-IN {
        term globalsummit {
            from {
                protocol bgp;
                prefix-list-filter GLOBALSUMMIT orlonger;
            }
            then next policy;
        }
        term reject-unicast {
            then reject;
        }
    }
    policy-statement GLOBALSUMMIT6-IN {
        term globalsummit {
            from {
                protocol bgp;
                prefix-list-filter GLOBALSUMMIT6 orlonger;
            }
            then next policy;
        }
        term reject-unicast {
            then reject;
        }
    }
    policy-statement IRON-IN {
        term participant {
            from {
                protocol bgp;
                prefix-list-filter IRON-PARTICIPANT orlonger;
            }
            then next policy;
        }
        term segp {
            from {
                protocol bgp;
                prefix-list-filter IRON-SEGP orlonger;
            }
            then {
                community add SEGP;
                next policy;
            }
        }
        term reject-unicast {
            to rib inet.0;
            then reject;
        }
    }
    policy-statement ISIS-EXPORT {
        term allow-aggregate {
            from {
                family inet6;
                protocol aggregate;
            }
            then accept;
        }
        term deny-more-specifics {
            from {
                family inet6;
                route-filter 2001:468:ff:e00::/56 longer;
                route-filter 2001:468:e::/48 longer;
            }
            then reject;
        }
        term accept-all-other-v6 {
            from {
                family inet6;
                protocol [ isis direct ];
            }
            then accept;
        }
        term temp-al2s-racklan {
            from {
                protocol static;
                prefix-list-filter STATIC-INTO-ISIS orlonger;
            }
            then accept;
        }
    }
    /* import policy for mcast-only peerings with commercial ISPs */
    policy-statement ISP-MCAST-IN {
        term block-long-prefixes {
            from {
                route-filter 0.0.0.0/0 prefix-length-range /28-/32;
            }
            then reject;
        }
        term allow {
            from protocol bgp;
            to rib inet.2;
            then {
                community add COMMERCIAL-PEER;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement ISP-MCAST-OUT {
        term block-long-prefixes {
            from {
                route-filter 0.0.0.0/0 prefix-length-range /28-/32;
            }
            then reject;
        }
        term no-export {
            from community BLOCK-TO-COMMERCIAL;
            then reject;
        }
        /* only advertise participant routes */
        term allow {
            from {
                protocol bgp;
                rib inet.2;
                community PARTICIPANT;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement ISP-V6-IN {
        term allow {
            from protocol bgp;
            to rib inet6.0;
            then {
                community add COMMERCIAL-PEER;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement ISP-V6-OUT {
        term no-export {
            from community BLOCK-TO-COMMERCIAL;
            then reject;
        }
        /* only advertise participant routes */
        term accept {
            from {
                family inet6;
                protocol bgp;
                community PARTICIPANT;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement ITN-IN {
        term block-long-prefixes {
            from {
                route-filter 0.0.0.0/0 prefix-length-range /28-/32;
            }
            then reject;
        }
        term set-community {
            from protocol bgp;
            then {
                community add ITN;
                accept;
            }
        }
    }
    policy-statement ITN-IN6 {
        term set-community {
            from protocol bgp;
            then {
                community add ITN;
                accept;
            }
        }
    }
    policy-statement ITN-OUT {
        /* don't announce small prefixes */
        term block-long-prefixes {
            from {
                route-filter 0.0.0.0/0 prefix-length-range /28-/32;
            }
            then reject;
        }
        /* don't announce these routes via nlri=unicast or multicast */
        /* term block-unicast-multicast {
            from {
                protocol bgp;
                community [ CONNECTOR-ONLY COMMERCIAL-PEER ];
            }
            then reject;
        } */
        /* don't announce nlri=unicast routes from fednet or nonitn peers */
        term block-fednet-nonitn-unicast {
            from {
                protocol bgp;
                rib inet.0;
                /* note: community match is a logical OR */
                /* community [ FEDNET NONITN ]; */
            }
            then reject;
        }
        /* announce all other unicast and multicast routes */
        term accept {
            from protocol bgp;
            then accept;
        }
    }
    policy-statement ITN-OUT6 {
        /* don't announce these routes via nlri=unicast or multicast */
        /* term block-unicast-multicast {
            from {
                protocol bgp;
                community [ CONNECTOR-ONLY COMMERCIAL-PEER ];
            }
            then reject;
        } */
        /* announce all other routes via nlri=unicast and multicast */
        term allow {
            from protocol bgp;
            then accept;
        }
    }
    policy-statement ITN-PEERCONTROLS-OUT {
        term prepend1 {
            from {
                protocol bgp;
                community ITN-PREPEND1;
            }
            then {
                as-path-prepend 11537;
                accept;
            }
        }
        term prepend2 {
            from {
                protocol bgp;
                community ITN-PREPEND2;
            }
            then {
                as-path-prepend "11537 11537";
                accept;
            }
        }
        term prepend3 {
            from {
                protocol bgp;
                community ITN-PREPEND3;
            }
            then {
                as-path-prepend "11537 11537 11537";
                accept;
            }
        }
        term prepend4 {
            from {
                protocol bgp;
                community ITN-PREPEND-ITN;
            }
            then {
                as-path-prepend "11537 11537 11537 11537";
                accept;
            }
        }
    }
    policy-statement LHCONE-CONNECTOR-IN {
        term accept {
            then {
                community add LHCONE-CONNECTOR;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement LHCONE-CONNECTOR-OUT {
        term announce-peers {
            from {
                protocol bgp;
                community [ LHCONE-PEERS LHCONE-CONNECTOR ];
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement LHCONE-EXPORT {
        term direct {
            from protocol direct;
            then {
                community add LHCONE;
                accept;
            }
        }
        term bgp {
            from protocol bgp;
            then {
                community add LHCONE;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement LHCONE-IMPORT {
        term bgp {
            from community LHCONE;
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement LHCONE-PEER-IN {
        term accept {
            then {
                community add LHCONE-PEERS;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement LHCONE-PEER-OUT {
        term block-peers {
            from community LHCONE-PEERS;
            then reject;
        }
        term do-not-announce-peers {
            from community LHCONE-DO-NOT-ANNOUNCE-PEER;
            then reject;
        }
        term announce {
            from {
                protocol bgp;
                community LHCONE-CONNECTOR;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement LHCONE-REMOVE-COMMS {
        term remove {
            then {
                community delete HIGH-PEERS;
                community delete LOW-PEERS;
                community delete LOW;
                community delete HIGH;
                community delete DISCARD;
                community delete LHCONE;
            }
        }
    }
    policy-statement LHCONE-SANITY-IN {
        term block-private-asn {
            from as-path PRIVATE;
            then reject;
        }
        term block-martians {
            from {
                route-filter 0.0.0.0/0 exact;
                route-filter 10.0.0.0/8 orlonger;
                route-filter 127.0.0.0/8 orlonger;
                route-filter 169.254.0.0/16 orlonger;
                route-filter 172.16.0.0/12 orlonger;
                route-filter 192.0.2.0/24 orlonger;
                route-filter 192.88.99.1/32 exact;
                route-filter 192.168.0.0/16 orlonger;
                route-filter 198.18.0.0/15 orlonger;
                route-filter 224.0.0.0/4 orlonger;
                route-filter 240.0.0.0/4 orlonger;
            }
            then reject;
        }
        term block-internal {
            from {
                prefix-list INTERNAL;
            }
            then reject;
        }
    }
    policy-statement LHCONE-SANITY-OUT {
        term block-private-asn {
            from as-path PRIVATE;
            then reject;
        }
        term block-martians {
            from {
                route-filter 0.0.0.0/0 exact;
                route-filter 10.0.0.0/8 orlonger;
                route-filter 127.0.0.0/8 orlonger;
                route-filter 169.254.0.0/16 orlonger;
                route-filter 172.16.0.0/12 orlonger;
                route-filter 192.0.2.0/24 orlonger;
                route-filter 192.88.99.1/32 exact;
                route-filter 192.168.0.0/16 orlonger;
                route-filter 198.18.0.0/15 orlonger;
                route-filter 224.0.0.0/4 orlonger;
                route-filter 240.0.0.0/4 orlonger;
            }
            then reject;
        }
        term originate {
            from {
                protocol static;
                prefix-list LHCONE-INTERNAL;
            }
            then accept;
        }
    }
    policy-statement LHCONE-SANITY6-IN {
        term block-private-asn {
            from {
                family inet6;
                as-path PRIVATE;
            }
            then reject;
        }
    }
    policy-statement LHCONE-SANITY6-OUT {
        term block-private-asn {
            from {
                family inet6;
                as-path PRIVATE;
            }
            then reject;
        }
        term originate {
            from {
                protocol static;
                prefix-list LHCONE-INTERNAL6;
            }
            then accept;
        }
    }
    policy-statement MONTANA-IN {
        term participant {
            from {
                protocol bgp;
                prefix-list-filter MONTANA-PARTICIPANT orlonger;
            }
            then next policy;
        }
        term reject {
            then reject;
        }
    }
    policy-statement MONTANA-IN6 {
        term participant {
            from {
                family inet6;
                protocol bgp;
                prefix-list-filter MONTANA-PARTICIPANT6 exact;
            }
            then {
                community add PARTICIPANT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement MSDP-FILTER {
        term bad-groups {
            from {
                route-filter 224.0.1.2/32 exact;
                route-filter 224.0.1.3/32 exact;
                route-filter 224.0.1.8/32 exact;
                route-filter 224.0.1.22/32 exact;
                route-filter 224.0.1.24/32 exact;
                route-filter 224.0.1.25/32 exact;
                route-filter 224.0.1.35/32 exact;
                route-filter 224.0.1.39/32 exact;
                route-filter 224.0.1.40/32 exact;
                route-filter 224.0.1.60/32 exact;
                route-filter 224.0.2.1/32 exact;
                route-filter 224.0.2.2/32 exact;
                route-filter 224.77.0.0/16 orlonger;
                route-filter 225.1.2.3/32 exact;
                route-filter 226.77.0.0/16 orlonger;
                route-filter 229.55.150.208/32 exact;
                route-filter 234.42.42.40/30 orlonger;
                route-filter 234.142.142.42/31 orlonger;
                route-filter 234.142.142.44/30 orlonger;
                route-filter 234.142.142.48/28 orlonger;
                route-filter 234.142.142.64/26 orlonger;
                route-filter 234.142.142.128/29 orlonger;
                route-filter 234.142.142.136/30 orlonger;
                route-filter 234.142.142.140/31 orlonger;
                route-filter 234.142.142.142/32 exact;
                route-filter 239.0.0.0/8 orlonger;
                route-filter 232.0.0.0/8 orlonger;
            }
            then reject;
        }
        term bad-sources {
            from {
                source-address-filter 10.0.0.0/8 orlonger;
                source-address-filter 127.0.0.0/8 orlonger;
                source-address-filter 172.16.0.0/12 orlonger;
                source-address-filter 192.168.0.0/16 orlonger;
            }
            then reject;
        }
        term bad-planetlab {
            from {
                source-address-filter 198.32.154.179/32 exact;
                source-address-filter 198.32.154.187/32 exact;
                source-address-filter 198.32.154.195/32 exact;
                source-address-filter 198.32.154.202/32 exact;
                source-address-filter 198.32.154.210/32 exact;
                source-address-filter 198.32.154.218/32 exact;
                source-address-filter 198.32.154.226/32 exact;
                source-address-filter 198.32.154.235/32 exact;
                source-address-filter 198.32.154.243/32 exact;
                source-address-filter 198.32.154.250/32 exact;
            }
            then reject;
        }
        term allow {
            then accept;
        }
    }
    policy-statement NEXT-HOP-SELF {
        from protocol bgp;
        then {
            next-hop self;
        }
    }
    policy-statement NLR-TP {
        term allow-telepresence {
            from {
                protocol bgp;
                /* community NLR-TELEPRESENCE;*/
            }
            then accept;
        }
    }
    /* Redistribute aggregates from static into BGP */
    policy-statement ORIGINATE4 {
        term block-telepresence {
            from {
                protocol bgp;
                /* community NLR-TELEPRESENCE;*/
            }
            then reject;
        }
        term internal-addresses {
            from {
                protocol static;
                prefix-list INTERNAL;
            }
            then accept;
        }
    }
    /* Redistribute aggregates from static into BGP */
    policy-statement ORIGINATE6 {
        term announce-aggregates {
            from {
                protocol static;
                prefix-list INTERNAL6;
            }
            then accept;
        }
        term block-more-specifics {
            from {
                route-filter 2001:468::/32 longer;
            }
            then reject;
        }
    }
    policy-statement REDCLARA-TO-USGS {
        term FROM-REDCLARA {
            from as-path CLARA;
            then accept;
        }
    }
    policy-statement REJECT-ALL {
        then reject;
    }
    /* Remove certain BGP communities on import - only applied to peers */
    policy-statement REMOVE-COMMS-IN {
        term remove {
            then {
                /* remove connector local-pref communities */
                community delete HIGH;
                community delete LOW;
                /* remove discard community */
                community delete DISCARD;
            }
        }
    }
    /* Remove certain BGP communities on export - applied to connectors and peers */
    policy-statement REMOVE-COMMS-OUT {
        term remove {
            then {
                /* remove connector and peer local-pref communities */
                community delete HIGH-PEERS;
                community delete LOW-PEERS;
                community delete LOW;
                community delete HIGH;
                /* remove discard community */
                community delete DISCARD;
            }
        }
    }
    /* reject routes we should never accept */
    policy-statement SANITY-IN {
        /* Reject any BGP prefix if a private AS is in the path */
        term block-private-asn {
            from as-path PRIVATE;
            then reject;
        }
        /* Reject any BGP NLRI=Unicast prefix if a commercial ISP's AS is in the path */
        term block-commercial-asn {
            from as-path COMMERCIAL;
            to rib inet.0;
            then reject;
        }
        term block-nlr-transit {
            from as-path NLR;
            then reject;
        }
        /* Reject BGP prefixes that should never appear in the routing table */
        term block-martians {
            from {
                /* default */
                route-filter 0.0.0.0/0 exact;
                /* rfc 1918 */
                route-filter 10.0.0.0/8 orlonger;
                /* rfc 3330 - loopback */
                route-filter 127.0.0.0/8 orlonger;
                /* rfc 3330 - link-local */
                route-filter 169.254.0.0/16 orlonger;
                /* rfc 1918 */
                route-filter 172.16.0.0/12 orlonger;
                /* iana reserved */
                route-filter 192.0.2.0/24 orlonger;
                /* 6to4 relay */
                route-filter 192.88.99.1/32 exact;
                /* rfc 1918 */
                route-filter 192.168.0.0/16 orlonger;
                /* rfc 2544 - network device benchmarking */
                route-filter 198.18.0.0/15 orlonger;
                /* rfc 3171 - multicast group addresses */
                route-filter 224.0.0.0/4 orlonger;
                /* rfc 3330 */
                route-filter 240.0.0.0/4 orlonger;
            }
            then reject;
        }
        /* Reject BGP prefixes which Abilene originates */
        term block-internal {
            from {
                prefix-list INTERNAL;
            }
            then reject;
        }
    }
    /* Block announcements for prefixes we should never announce */
    policy-statement SANITY-OUT {
        /* Don't annouce any route with a private AS in the path */
        inactive: term block-private-asn {
            from as-path PRIVATE;
            then reject;
        }
        /* Don't announce NLRI=Unicast routes if a commercial ISP's AS is in the path */
        term block-commercial-asn {
            from {
                rib inet.0;
                as-path COMMERCIAL;
            }
            then reject;
        }
        /* Don't announce reserved and special prefixes */
        term block-martians {
            from {
                /* default */
                route-filter 0.0.0.0/0 exact;
                /* rfc 1918 */
                route-filter 10.0.0.0/8 orlonger;
                /* rfc 3330 - loopback */
                route-filter 127.0.0.0/8 orlonger;
                /* rfc 3330 - link-local */
                route-filter 169.254.0.0/16 orlonger;
                /* rfc 1918 */
                route-filter 172.16.0.0/12 orlonger;
                /* iana reserved */
                route-filter 192.0.2.0/24 orlonger;
                /* 6to4 relay */
                route-filter 192.88.99.1/32 exact;
                /* rfc 1918 */
                route-filter 192.168.0.0/16 orlonger;
                /* rfc 2544 - network device benchmarking */
                route-filter 198.18.0.0/15 orlonger;
                /* rfc 3171 - multicast group addresses */
                route-filter 224.0.0.0/4 orlonger;
                /* rfc 3330 */
                route-filter 240.0.0.0/4 orlonger;
            }
            then reject;
        }
        term block-to-external {
            /* from community BLOCK-TO-EXTERNAL;*/
            then reject;
        }
    }
    policy-statement SANITY6 {
        /* Block routes with a private AS in the path */
        inactive: term block-private-asns {
            from {
                family inet6;
                as-path PRIVATE;
            }
            then reject;
        }
        /* Only accept routes within certain allocated blocks */
        term accept {
            /* see http://www.iana.org/assignments/ipv6-unicast-address-assignments */
            from {
                route-filter 2001::/16 upto /49;
                route-filter 2002::/16 exact;
                route-filter 2003::/16 upto /49;
                route-filter 2400::/12 upto /49;
                route-filter 2600::/12 upto /49;
                route-filter 2a00::/12 upto /49;
                route-filter 2800::/12 upto /49;
                route-filter 2001:b000::/20 upto /49;
                route-filter 2c00::/12 upto /49;
                route-filter 2610::/12 upto /49;
                route-filter 2620::/12 upto /49;
            }
            then next policy;
        }
        term reject {
            then reject;
        }
    }
    policy-statement SC12-IN {
        term participant {
            from {
                protocol bgp;
                prefix-list-filter SC12 exact;
            }
            then next policy;
        }
        term reject-unicast {
            then reject;
        }
    }
    policy-statement SC12-IN6 {
        term participant {
            from {
                family inet6;
                protocol bgp;
                prefix-list-filter SC12-6 exact;
            }
            then {
                community add PARTICIPANT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    /* set local-pref on connector routes based on communities */
    policy-statement SET-PREF {
        term high {
            from community HIGH;
            then {
                local-preference 260;
                next policy;
            }
        }
        term low {
            from community LOW;
            then {
                local-preference 140;
                next policy;
            }
        }
        term normal {
            then {
                local-preference 200;
            }
        }
    }
    policy-statement SET-PREF-CPS-V6 {
        term high {
            from community HIGH;
            then {
                local-preference 260;
                next policy;
            }
        }
        term low {
            from community LOW;
            then {
                local-preference 140;
                next policy;
            }
        }
        term equal-to-peers {
            from community EQUAL-TO-PEERS;
            then {
                local-preference 100;
                next policy;
            }
        }
        term lower-than-peers {
            from community LOWER-THAN-PEERS;
            then {
                local-preference 60;
                next policy;
            }
        }
        term normal {
            then {
                local-preference 200;
            }
        }
    }
    /* set local-pref on peer routes based on communities */
    policy-statement SET-PREF-PEER {
        term high {
            from community HIGH-PEERS;
            then {
                local-preference 160;
                next policy;
            }
        }
        term low {
            from community LOW-PEERS;
            then {
                local-preference 40;
                next policy;
            }
        }
        term normal {
            then {
                local-preference 100;
            }
        }
    }
    policy-statement TRANSIT-EXPORT {
        term direct {
            from {
                protocol direct;
                prefix-list-filter TRANSIT orlonger;
            }
            then {
                community add TRANSIT;
                accept;
            }
        }
        term direct6 {
            from {
                protocol direct;
                prefix-list-filter TRANSIT6 orlonger;
            }
            then {
                community add TRANSIT;
                accept;
            }
        }
        term bgp {
            from {
                protocol bgp;
                prefix-list-filter TRANSIT orlonger;
            }
            then {
                community add TRANSIT;
                accept;
            }
        }
        term bgp6 {
            from {
                protocol bgp;
                prefix-list-filter TRANSIT6 orlonger;
            }
            then {
                community add TRANSIT;
                accept;
            }
        }
        term default {
            from {
                protocol bgp;
                prefix-list-filter DEFAULT exact;
            }
            then {
                community add TRANSIT;
                accept;
            }
        }
        term default6 {
            from {
                protocol bgp;
                prefix-list-filter DEFAULT6 exact;
            }
            then {
                community add TRANSIT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement TRANSIT-IMPORT {
        term bgp {
            from community TRANSIT;
            then accept;
        }
        inactive: term cps {
            from community CPS;
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement UEN-IN {
        term participant {
            from {
                protocol bgp;
                prefix-list-filter UEN-PARTICIPANT orlonger;
            }
            then next policy;
        }
        term sponsored {
            from {
                protocol bgp;
                prefix-list-filter UEN-SPONSORED orlonger;
            }
            then {
                community add SPONSORED;
                next policy;
            }
        }
        term segp {
            from {
                protocol bgp;
                prefix-list-filter UEN-SEGP orlonger;
            }
            then {
                community add SEGP;
                next policy;
            }
        }
        term reject-unicast {
            to rib inet.0;
            then reject;
        }
    }
    policy-statement UEN-IN6 {
        term participant {
            from {
                family inet6;
                protocol bgp;
                prefix-list-filter UEN-PARTICIPANT6 orlonger;
            }
            then {
                community add PARTICIPANT;
                accept;
            }
        }
        term reject {
            then reject;
        }
    }
    policy-statement UEN-SC13-IN {
        term participant {
            from {
                protocol bgp;
                prefix-list-filter UEN-SC13 orlonger;
            }
            then next policy;
        }
        term reject {
            then reject;
        }
    }
    policy-statement UEN-SC13-IN6 {
        term participant {
            from {
                protocol bgp;
                prefix-list-filter UEN-SC13-6 orlonger;
            }
            then next policy;
        }
        term reject {
            then reject;
        }
    }
    policy-statement UEN-SC13-OUT {
        term sc13 {
            from {
                protocol bgp;
                prefix-list-filter SC13 orlonger;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement UEN-SC13-OUT6 {
        term sc13 {
            from {
                protocol bgp;
                prefix-list-filter SC13-6 orlonger;
            }
            then accept;
        }
        term reject {
            then reject;
        }
    }
    policy-statement USGS-IN {
        term add-amazon-block {
            then {
                community add NETPLUS-BLOCK-AMAZON-OUT;
                next policy;
            }
        }
    }
    policy-statement USGS-OUT {
        term reject {
            /* from community NETPLUS-AMAZON; */
            then reject;
        }
        term next-policy {
            then next policy;
        }
    }
    policy-statement load-balancing-policy {
        then {
            load-balance per-packet;
        }
    }
    policy-statement pim-join-filter {
        term internal-links {
            from {
                interface [ so-0/0/0.0 so-3/0/0.0 so-3/1/0.0 ];
                route-filter 239.0.0.0/8 orlonger;
            }
            then accept;
        }
        term external-links {
            from {
                route-filter 239.0.0.0/8 orlonger;
            }
            then reject;
        }
        term all-links {
            then accept;
        }
    }
    community ALL-COMMS members *:*;
    community BLOCK-TO-COMMERCIAL members 11537:2002;
    community BLOCK-TO-EXTERNAL members 11537:888;
    community COMMERCIAL-PEER members 11537:2001;
    community CONNECTOR-ONLY members 11537:3500;
    community CORE members 11537:900;
    community CORPORATE members 11537:2000;
    community CPS members target:11537:1;
    community CPS-AS1239-OUT members *:1239;
    community CPS-AS2914-OUT members *:2914;
    community CPS-BLOCK members 65000:*;
    community CPS-BLOCK-AS1239-OUT members 65000:1239;
    community CPS-BLOCK-AS2914-OUT members 65000:2914;
    community CPS-CONNECTOR members 11537:25100;
    community CPS-CONNECTOR-ONLY members 11537:25400;
    community CPS-PEERS members 11537:25200;
    community CPS-PREPEND1 members 65001:*;
    community CPS-PREPEND1-Carpathia members 65001:29748;
    community CPS-PREPEND1-Google members 65001:15169;
    community CPS-PREPEND1-Highwinds members 65001:12989;
    community CPS-PREPEND1-Limelight members 65001:22822;
    community CPS-PREPEND1-MICROSOFT members 65001:8075;
    community CPS-PREPEND1-RoadRunner members 65001:20940;
    community CPS-PREPEND1-nLayer members 65001:4436;
    community CPS-PREPEND2 members 65002:*;
    community CPS-PREPEND3 members 65003:*;
    community CPS-TR-CONNECTOR members 11537:25300;
    community DISCARD members 11537:911;
    community EQUAL-TO-PEERS members 11537:100;
    community FEDNET members 11537:3000;
    community HIGH members 11537:260;
    community HIGH-PEERS members 11537:160;
    community I2-LEARNED-SALT members 11537:246;
    community IFTN members 11537:2502;
    community ITN members 11537:2501;
    community ITN-PREPEND-ITN members 65009:65000;
    community ITN-PREPEND1 members 65001:65000;
    community ITN-PREPEND2 members 65002:65000;
    community ITN-PREPEND3 members 65003:65000;
    community LHCONE members target:11537:4;
    community LHCONE-CONNECTOR members 11537:6001;
    community LHCONE-DO-NOT-ANNOUNCE-AS members 65010:*;
    community LHCONE-DO-NOT-ANNOUNCE-PEER members 65011:0;
    community LHCONE-IXP members "11537:651[12]*";
    community LHCONE-MANLAN members 11537:65111;
    community LHCONE-ONLY-ANNOUNCE-AS members 65012:*;
    community LHCONE-PEERS members 11537:6002;
    community LHCONE-PREPEND1 members 65001:*;
    community LHCONE-PREPEND2 members 65002:*;
    community LHCONE-PREPEND3 members 65003:*;
    community LOW members 11537:140;
    community LOW-PEERS members 11537:40;
    community LOWER-THAN-PEERS members 11537:60;
    community NETPLUS-AMAZON members 11537:5004;
    community NETPLUS-BLOCK-AMAZON-OUT members 65000:16509;
    community NETPLUS-BLOCK-CODE42-OUT members 65000:62715;
    community NETPLUS-CLOUD members 11537:5002;
    community NETPLUS-CODE42 members 11537:5007;
    community NETPLUS-PREPEND1 members 65001:65000;
    community NETPLUS-PREPEND2 members 65002:65000;
    community NETPLUS-PREPEND3 members 65003:65000;
    community NETPLUS-SERVICES members 11537:5000;
    community NETPLUS-SIP members 11537:5003;
    community NETPLUS-TELEPRESENCE members 11537:5001;
    community NLR-TELEPRESENCE members 65010:19401;
    community NO-EXPORT members no-export;
    community NOAGG6 members 11537:6;
    community NONITN members 11537:2500;
    community PARTICIPANT members 11537:950;
    community RHCPP members 11537:4000;
    community SEGP members 11537:910;
    community SPONSORED members 11537:902;
    community TRANSIT members target:11537:5;
    community TRMIGRATION members [ 65002:22822 65002:20940 65002:15169 65002:4436 65002:29748 65002:8075 65002:12989 65000:40009 65000:36408 ];
    as-path PRIVATE ".* (64512-65535) .*";
    as-path ABILENE ".* 11537 .*";
    as-path NLR ".* 19401 .*";
    as-path CLARA "27750 .*";
    as-path GEANT "20965 .*";
    as-path CUDI "18592 .*";
    as-path COMMERCIAL6 ".* (701|1273|1836|2497|2516|2914|3257|3549|3561|4691|6939|7018|15169|15412|17554|17990) .*";
    as-path COMMERCIAL-CPS ".*(1|174|209|701|1239|1299|2914|3356|3549|3561|6461|7018|7132|11164) .*";
    as-path COMMERCIAL ".* (174|701|1239|1673|1740|1800|1833|2551|2548|2685|2914|3549|3561|3847|3951|3967|4183|4200|5683|6113|6172|6461|7018) .*";
}
class-of-service {
    classifiers {
        dscp ip_classifier {
            import default;
            forwarding-class scavenger-service {
                loss-priority high code-points ss;
            }
            forwarding-class best-effort {
                loss-priority low code-points [ af11 af12 af13 ef ];
            }
        }
        exp ion_classifier {
            import default;
            forwarding-class scavenger-service {
                loss-priority high code-points ss;
            }
            forwarding-class expedited-forwarding {
                loss-priority low code-points ef;
            }
            forwarding-class best-effort {
                loss-priority low code-points [ af11 af12 ef1 ];
            }
        }
    }
    code-point-aliases {
        dscp {
            ss 001000;
        }
        exp {
            ss 001;
        }
    }
    inactive: host-outbound-traffic {
        forwarding-class network-control;
        ieee-802.1 {
            default 111;
        }
    }
    forwarding-classes {
        queue 0 best-effort;
        queue 1 scavenger-service;
        queue 2 expedited-forwarding;
        queue 3 network-control;
    }
    interfaces {
        et-* {
            scheduler-map ion_ip_scheduler;
            unit * {
                classifiers {
                    dscp ip_classifier;
                    exp ion_classifier;
                }
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                }
            }
        }
        ge-* {
            scheduler-map ion_ip_scheduler;
            unit * {
                classifiers {
                    dscp ip_classifier;
                    exp ion_classifier;
                }
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                }
            }
        }
        xe-* {
            scheduler-map ion_ip_scheduler;
            unit * {
                classifiers {
                    dscp ip_classifier;
                    exp ion_classifier;
                }
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                }
            }
        }
        inactive: et-4/0/0 {
            unit 110 {
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                    ieee-802.1 al3s_over_al2s_rule;
                }
            }
            unit 113 {
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                    ieee-802.1 al3s_over_al2s_rule;
                }
            }
            unit 310 {
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                    ieee-802.1 al3s_over_al2s_rule;
                }
            }
            unit 313 {
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                    ieee-802.1 al3s_over_al2s_rule;
                }
            }
        }
        inactive: et-10/0/0 {
            unit 112 {
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                    ieee-802.1 al3s_over_al2s_rule;
                }
            }
            unit 312 {
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                    ieee-802.1 al3s_over_al2s_rule;
                }
            }
        }
        ae* {
            scheduler-map ion_ip_scheduler;
            unit * {
                classifiers {
                    dscp ip_classifier;
                    exp ion_classifier;
                }
                rewrite-rules {
                    exp ion_exp_rewrite-rule;
                }
            }
        }
    }
    rewrite-rules {
        exp ion_exp_rewrite-rule {
            import default;
            forwarding-class scavenger-service {
                loss-priority high code-point ss;
                loss-priority low code-point ss;
            }
            forwarding-class expedited-forwarding {
                loss-priority low code-point ef;
                loss-priority high code-point ef;
            }
        }
        inactive: ieee-802.1 al3s_over_al2s_rule {
            import default;
            forwarding-class network-control {
                loss-priority high code-point 111;
                loss-priority low code-point 111;
            }
            forwarding-class expedited-forwarding {
                loss-priority high code-point 111;
                loss-priority low code-point 111;
            }
            forwarding-class scavenger-service {
                loss-priority low code-point 111;
                loss-priority high code-point 111;
            }
            forwarding-class best-effort {
                loss-priority low code-point 111;
                loss-priority high code-point 111;
            }
        }
    }
    scheduler-maps {
        ion_ip_scheduler {
            forwarding-class network-control scheduler network-control_schedule;
            forwarding-class best-effort scheduler best-effort_scheduler;
            forwarding-class expedited-forwarding scheduler expedited-forwarding_schedule;
            forwarding-class scavenger-service scheduler scavenger-service_scheduler;
        }
    }
    schedulers {
        scavenger-service_scheduler {
            transmit-rate percent 0;
            buffer-size percent 0;
            priority low;
        }
        expedited-forwarding_schedule {
            priority high;
        }
        network-control_schedule {
            transmit-rate percent 5;
            buffer-size percent 5;
            priority high;
        }
        best-effort_scheduler {
            transmit-rate {
                remainder;
            }
            buffer-size {
                remainder;
            }
            priority low;
        }
    }
}
routing-instances {
    cps {
        instance-type vrf;
        interface xe-0/0/3.845; ## 'xe-0/0/3.845' is not defined
        interface xe-0/1/0.60;
        /* [CPS] Peer NTT Jumbo */
        interface xe-0/1/2.81;
        /* [CPS] Peer NTT & Peer Sprint via MIX */
        interface xe-0/1/2.82;
        interface et-4/0/0.1011;
        interface lo0.1;
        route-distinguisher 11537:1;
        vrf-import CPS-IMPORT;
        vrf-export CPS-EXPORT;
        vrf-table-label;
        routing-options {
            rib cps.inet6.0 {
                static {
                    route 2001:468:ff00::/40 {
                        reject;
                        install;
                        readvertise;
                    }
                    route 2001:468::/32 {
                        reject;
                        install;
                        readvertise;
                    }
                    route 2001:468:ef01::/48 {
                        next-table transit.inet6.0;
                        install;
                        readvertise;
                    }
                }
            }
            static {
                route 198.32.9.0/24 {
                    discard;
                    install;
                }
                route 64.57.29.0/24 {
                    discard;
                    install;
                }
                route 64.57.22.0/24 {
                    next-table transit.inet.0;
                    install;
                    readvertise;
                }
            }
        }
        protocols {
            bgp {
                log-updown;
                local-as 11537;
                inactive: group CONNECTORS {
                    type external;
                    multihop {
                        ttl 1;
                    }
                    family inet {
                        unicast {
                            prefix-limit {
                                maximum 3000;
                                teardown 90;
                            }
                        }
                    }
                    export CPS-CONNECTOR-OUT;
                    remove-private;
                }
                group CONNECTORS6 {
                    type external;
                    family inet6 {
                        unicast {
                            prefix-limit {
                                maximum 50;
                                teardown 90;
                            }
                        }
                    }
                    export [ SANITY6 CPS-CONNECTOR-OUT6 ];
                    remove-private;
                    local-as 11537;
                    neighbor 2001:1948:0:1203::2 {
                        description "[CPS] Customer6 UEN via AL2S/SALT | I2-S12705";
                        import [ SANITY6 SET-PREF-CPS-V6 CPS-UEN-IN6 ];
                        peer-as 210;
                    }
                }
                group PEERS6 {
                    type external;
                    import [ SANITY6 CPS-PEER6-IN ];
                    family inet6 {
                        unicast {
                            prefix-limit {
                                maximum 3000;
                                teardown 90;
                            }
                        }
                    }
                    remove-private;
                }
                group OTHER {
                    type internal;
                    import REJECT-ALL;
                    neighbor 64.57.29.54 {
                        description "[CPS] nms-rpsv.salt zebra bgpd [NO-MONITOR]";
                        local-address 64.57.29.53;
                        family inet {
                            unicast;
                            multicast;
                        }
                    }
                    neighbor 2001:468:7:60::29:54 {
                        description "[CPS] nms-rpsv.salt zebra bgpd [NO-MONITOR]";
                        local-address 2001:468:07:60::1;
                        family inet6 {
                            unicast;
                            multicast;
                        }
                    }
                }
            }
        }
    }
    lhcone {
        instance-type vrf;
        interface xe-0/1/0.90;
        route-distinguisher 11537:4;
        vrf-import LHCONE-IMPORT;
        vrf-export LHCONE-EXPORT;
        vrf-table-label;
        routing-options {
            rib lhcone.inet6.0 {
                static {
                    route 2001:468:ef00::/48 {
                        discard;
                        install;
                        community 11537:6001;
                    }
                }
            }
            static {
                route 64.57.30.128/25 {
                    discard;
                    install;
                    community 11537:6001;
                }
            }
        }
        protocols {
            bgp {
                log-updown;
                local-as 11537;
                inactive: group CONNECTORS {
                    import [ LHCONE-SANITY-IN SET-PREF LHCONE-CONNECTOR-IN ];
                    family inet {
                        unicast {
                            prefix-limit {
                                maximum 3000;
                                teardown 90;
                            }
                        }
                    }
                    export [ LHCONE-SANITY-OUT LHCONE-REMOVE-COMMS LHCONE-CONNECTOR-OUT ];
                    remove-private;
                }
                inactive: group PEERS {
                    import [ LHCONE-SANITY-IN SET-PREF LHCONE-PEER-IN ];
                    family inet {
                        unicast {
                            prefix-limit {
                                maximum 3000;
                                teardown 90;
                            }
                        }
                    }
                    export [ LHCONE-SANITY-OUT LHCONE-REMOVE-COMMS LHCONE-PEER-OUT ];
                    remove-private;
                }
                inactive: group CONNECTORS6 {
                    import [ LHCONE-SANITY6-IN SET-PREF LHCONE-CONNECTOR-IN ];
                    family inet6 {
                        unicast {
                            prefix-limit {
                                maximum 3000;
                                teardown 90;
                            }
                        }
                    }
                    export [ LHCONE-SANITY6-OUT LHCONE-REMOVE-COMMS LHCONE-CONNECTOR-OUT ];
                    remove-private;
                }
                inactive: group PEERS6 {
                    import [ LHCONE-SANITY6-IN SET-PREF LHCONE-PEER-IN ];
                    family inet6 {
                        unicast {
                            prefix-limit {
                                maximum 3000;
                                teardown 90;
                            }
                        }
                    }
                    export [ LHCONE-SANITY6-OUT LHCONE-REMOVE-COMMS LHCONE-PEER-OUT ];
                    remove-private;
                }
                group OTHER-INTERNAL {
                    type internal;
                    import REJECT-ALL;
                    peer-as 11537;
                    neighbor 10.10.10.187 {
                        description "[LHCONE] nms-rpsv.salt [NO-MONITOR]";
                        local-address 10.10.10.186;
                        family inet {
                            unicast;
                            multicast;
                        }
                    }
                }
            }
        }
    }
    transit {
        instance-type vrf;
        interface xe-0/1/0.95;
        interface xe-0/3/0.1087;
        route-distinguisher 11537:5;
        vrf-import TRANSIT-IMPORT;
        vrf-export TRANSIT-EXPORT;
        vrf-table-label;
        routing-options {
            interface-routes {
                rib-group {
                    inet transit-rg;
                    inet6 transit6-rg;
                }
            }
            rib transit.inet6.0 {
                static {
                    rib-group transit-static6-rg;
                    route 2001:468:ef01::/48 {
                        reject;
                        install;
                        readvertise;
                        community 11537:950;
                    }
                }
            }
            static {
                rib-group transit-static-rg;
                route 64.57.22.0/24 {
                    reject;
                    install;
                    readvertise;
                    community 11537:950;
                }
            }
        }
        protocols {
            bgp {
                log-updown;
                local-as 11537;
                group OTHER-INTERNAL {
                    type internal;
                    import REJECT-ALL;
                    peer-as 11537;
                    neighbor 10.10.10.239 {
                        description "nms-rspv.salt (transit vrf) [PENDING]";
                        local-address 10.10.10.238;
                        family inet {
                            unicast;
                            multicast;
                        }
                    }
                }
                group OTHER-INTERNAL6 {
                    type internal;
                    import REJECT-ALL;
                    peer-as 11537;
                    neighbor 2001:468:ef01:200::11 {
                        description "nms-rspv.salt (transit vrf) [PENDING]";
                        local-address 2001:468:ef01:200::10;
                        family inet6 {
                            unicast;
                            multicast;
                        }
                    }
                }
                group CONNECTOR6 {
                    inactive: neighbor 2001:468:ef01:2::2 {
                        description "GlobalSummit-TRANSIT-KANS via Optical [NO-MONITOR]";
                        import REJECT-ALL;
                        export DEFAULT6-OUT;
                        peer-as 64537;
                        bfd-liveness-detection {
                            minimum-interval 1000;
                        }
                    }
                }
                group CONNECTOR {
                    neighbor 64.57.22.234 {
                        description "GlobalSummit-TRANSIT-KANS via Optical";
                        import GLOBALSUMMIT-IN;
                        export DEFAULT-OUT;
                        peer-as 64537;
                        bfd-liveness-detection {
                            minimum-interval 1000;
                        }
                    }
                }
            }
        }
    }
}
